{"version":3,"file":"visualization.js","sources":["../../src/viz/visualization.js"],"names":["define","_","data_mod","util_mod","config_mod","GridView","Tabs","CustomToJSON","toJSON","self","this","json","each","constructor","to_json_keys","k","val","get","to_json_mappers","select_datasets","filters","success_fn","history_grid","url_base","Galaxy","root","dict_format","embedded","library_grid","tabs","View","add","id","title","$el","$","append","modal","show","body","closing_events","buttons","Cancel","hide","Add","requests","window","console","log","length","ajax","url","dataType","data","data_type","hda_ldda","current","when","apply","then","track_defs","arguments","Array","map","arg","CanvasManager","default_font","undefined","dummy_canvas","new_canvas","dummy_context","getContext","font","char_width_px","measureText","width","patterns","load_pattern","extend","prototype","key","path","image","Image","src","onload","createPattern","get_pattern","canvas","manager","Cache","Backbone","Model","defaults","num_elements","obj_cache","key_ary","initialize","clear","get_elt","attributes","key_str","toString","index","indexOf","stale","splice","move_key_to_end","set_elt","value","deleted_key","shift","push","size","most_recently_added","GenomeDataManager","dataset","genome","init_data","min_region_size","filters_manager","data_mode_compatible","can_subset","call","initial_entries","add_data","entries","set","entry","set_data","region","data_is_ready","ready_deferred","Deferred","query_type","ss_deferred","ServerStateDeferred","ajax_settings","interval","response","go","resolve","search_features","query","params","getJSON","load_data","mode","resolution","extra_params","chrom","low","high","filter_names","i","name","filter_cols","JSON","stringify","result","get_data","is_deferred","entry_region","is_subregion","contains","subset_entry","copy","last_request","trim","DEEP_DATA_REQ","BROAD_DATA_REQ","get_more_data","req_type","cur_data","_mark_stale","query_low","start_val","max_high","query_region","data_manager","new_data_request","new_data_available","concat","max_low","message","replace","can_get_more_detailed_data","dataset_type","get_more_detailed_data","detail_multiplier","num_samples","get_genome_wide_data","all_data_available","gw_data","chrom_info","chrom_data","GenomeRegion","start","end","len","deferred","genome_wide_data","subregion","subset_fns","bigwig","filter","data_point","refseq","seq_start","slice","subregion_data","same","GenomeReferenceDataManager","options","dataset_placeholder","urlRoot","data_url","Genome","chroms_info","dbkey","get_chroms_info","get_chrom_region","chr_name","find","get_chrom_len","str_val","from_str","pieces","split","start_end","parseInt","on","compute_overlap","a_region","overlap","first_chrom","second_chrom","first_start","second_start","first_end","second_end","overlap_results","DIF_CHROMS","BEFORE","OVERLAP_START","CONTAINS","AFTER","CONTAINED_BY","OVERLAP_END","chrom_len","overlaps","intersection","GenomeRegionCollection","Collection","model","BrowserBookmark","note","BrowserBookmarkCollection","BackboneTrack","Dataset","models","default_value","label","type","ConfigSettingCollection","from_models_and_saved_values","prefs","preloaded_data","p","color","d","BackboneTrackCollection","Visualization","save","vis_json","GenomeVisualization","drawables","bookmarks","viewport","tracks","unset","add_tracks","view","dummy","obj_type","content_visible","TrackBrowserRouter","Router","route","new_loc","navigate","change_location","go_to"],"mappings":"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"}