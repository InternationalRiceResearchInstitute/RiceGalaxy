{"version":3,"file":"filters.js","sources":["../../../src/viz/trackster/filters.js"],"names":["define","_","extend","Filter","obj_dict","this","manager","name","index","tool_id","tool_exp_name","prototype","to_dict","create_action_icon","title","css_class","on_click_fn","$","attr","addClass","tooltip","click","NumberFilter","call","low","Number","MAX_VALUE","high","min","max","container","slider","slider_label","edit_slider_values","span","cur_value","text","parseFloat","input_size","toString","length","multi_value","slider_row","parents","appendTo","focus","select","e","stopPropagation","blur","remove","removeClass","keyup","keyCode","trigger","slider_min","slider_max","invalid","a_val","isNaN","new_value","val","split","alert","filter","parent_div","filter_label","values_span","values_span_container","append","slider_div","control_element","range","step","get_slider_step","values","slide","event","ui","change","display_controls_div","transparency_icon","alpha_filter","find","hide","show","track","request_draw","force","clear_after","height_icon","height_filter","hover","type","copy","self","setTimeout","applies_to","element","_keep_val","keep","to_filter","Array","returnVal","i","update_attrs","updated","value","Math","floor","ceil","update_ui_elt","FiltersManager","filters","bind","alpha_filter_name","height_filter_name","filters_dict","add_filter","console","log","visible","run_buttons_row","run_on_dataset_button","filter_manager","run_on_dataset","toggle","is","filter_dicts","push","new_track","remove_all","children","init_filters","clear_filters","tool_filter_conditions","get_or_create_dict_item","dict","key","new_item","active_filters","active_filters_list","run_filter","input_dataset_id","filter_tuple","tool_filters","tool_filter_str","join","url_params","cond","input","target_dataset_id","slice","getJSON","run_tool_url","response","error","Galaxy","modal","body","buttons","Close","dataset_id"],"mappings":"AAAAA,QAAS,mBAAoB,SAASC,GAEtC,GAAIC,GAASD,EAAEC,OAKXC,EAAS,SAASC,GAClBC,KAAKC,QAAU,KACfD,KAAKE,KAAOH,EAASG,KAErBF,KAAKG,MAAQJ,EAASI,MACtBH,KAAKI,QAAUL,EAASK,QAExBJ,KAAKK,cAAgBN,EAASM,cAGlCR,GAAOC,EAAOQ,WAIVC,QAAS,WACL,OACIL,KAAMF,KAAKE,KACXC,MAAOH,KAAKG,MACZC,QAASJ,KAAKI,QACdC,cAAeL,KAAKK,iBAQhC,IAAIG,GAAsB,SAASC,EAAOC,EAAWC,GACjD,MAAOC,GAAE,QAAQC,KAAK,OAAQ,uBAAuBA,KAAK,QAASJ,GAClDK,SAAS,eAAeA,SAASJ,GAAWK,UAC5CC,MAAML,IAMvBM,EAAe,SAASlB,GAIxBD,EAAOoB,KAAKlB,KAAMD,GAElBC,KAAKmB,IAAO,OAASpB,GAAWA,EAASoB,KAAOC,OAAOC,UACvDrB,KAAKsB,KAAQ,QAAUvB,GAAWA,EAASuB,KAAOF,OAAOC,UAEzDrB,KAAKuB,IAAO,OAASxB,GAAWA,EAASwB,IAAMH,OAAOC,UACtDrB,KAAKwB,IAAO,OAASzB,GAAWA,EAASyB,KAAOJ,OAAOC,UAEvDrB,KAAKyB,UAAY,KACjBzB,KAAK0B,OAAS,KACd1B,KAAK2B,aAAe,IAQpB,IAAIC,GAAqB,SAASH,EAAWI,EAAMH,GAC/CD,EAAUT,MAAM,WACZ,GAAIc,GAAYD,EAAKE,OACjBP,EAAMQ,WAAWN,EAAOA,OAAO,SAAU,QACzCO,EAAqB,GAAPT,EAAW,EAAW,KAAPA,EAAiBA,EAAIU,WAAWC,OAAS,EACtEC,GAAc,EACdC,EAAazB,EAAEZ,MAAMsC,QAAQ,cAGjCD,GAAWvB,SAAS,SAGhBY,EAAOA,OAAO,SAAU,YACxBO,EAAa,EAAEA,EAAa,EAC5BG,GAAc,GAElBP,EAAKE,KAAK,IAEVnB,EAAE,wBAAwBC,KAAK,OAAQoB,GAAYpB,KAAK,YAAaoB,GAC3CpB,KAAK,QAASiB,GAAWS,SAASV,GAAMW,QAAQC,SAChDzB,MAAM,SAAS0B,GAErCA,EAAEC,oBACHC,KAAK,WACJhC,EAAEZ,MAAM6C,SACRhB,EAAKE,KAAKD,GACVO,EAAWS,YAAY,WACxBC,MAAM,SAASL,GACd,GAAkB,KAAdA,EAAEM,QAEFpC,EAAEZ,MAAMiD,QAAQ,YACb,IAAkB,KAAdP,EAAEM,QAAgB,CAKzB,GAAIE,GAAaxB,EAAOA,OAAO,SAAU,OACrCyB,EAAazB,EAAOA,OAAO,SAAU,OACrC0B,EAAU,SAASC,GACf,MAAQC,OAAMD,IAAUA,EAAQF,GAAsBD,EAARG,GAElDE,EAAY3C,EAAEZ,MAAMwD,KACxB,IAAKpB,GAUD,GAFAmB,EAAYA,EAAUE,MAAM,KAC5BF,GAAavB,WAAWuB,EAAU,IAAKvB,WAAWuB,EAAU,KACxDH,EAAQG,EAAU,KAAOH,EAAQG,EAAU,IAE3C,MADAG,OAAM,yCAA2CR,EAAa,IAAMC,EAAa,KAC1EvC,EAAEZ,UAVb,IADAuD,EAAYvB,WAAWuB,GACnBH,EAAQG,GAER,MADAG,OAAM,yCAA2CR,EAAa,IAAMC,EAAa,KAC1EvC,EAAEZ,KAajB0B,GAAOA,OAAQU,EAAc,SAAW,QAAUmB,GAClDlB,EAAWS,YAAY,eAMnCa,EAAS3D,IAEb2D,GAAOC,WAAahD,EAAE,UAAUE,SAAS,wBAGzC,IAAI+C,GAAejD,EAAE,UAAUE,SAAS,aAAayB,SAASoB,EAAOC,YAEjEE,GADYlD,EAAE,WAAWE,SAAS,eAAeiB,KAAK4B,EAAOzD,KAAO,MAAMqC,SAASsB,GACrEjD,EAAE,WAAWmB,KAAK/B,KAAKmB,IAAM,IAAMnB,KAAKsB,OACtDyC,EAAwBnD,EAAE,WAAWE,SAAS,gBAAgByB,SAASsB,GAAcG,OAAO,KAAKA,OAAOF,GAAaE,OAAO,IAChIL,GAAOG,YAAcA,CAGrB,IAAIG,GAAarD,EAAE,UAAUE,SAAS,UAAUyB,SAASoB,EAAOC,WAChED,GAAOO,gBAAkBtD,EAAE,UAAUC,KAAK,KAAM8C,EAAOzD,KAAO,mBAAmBqC,SAAS0B,GAC1FN,EAAOO,gBAAgBxC,QACnByC,OAAO,EACP5C,IAAKvB,KAAKuB,IACVC,IAAKxB,KAAKwB,IACV4C,KAAMpE,KAAKqE,gBAAgBrE,KAAKuB,IAAKvB,KAAKwB,KAC1C8C,QAAStE,KAAKmB,IAAKnB,KAAKsB,MACxBiD,MAAO,SAASC,EAAOC,GACnBd,EAAOY,MAAMC,EAAOC,IAExBC,OAAQ,SAASF,EAAOC,GACpBd,EAAOO,gBAAgBxC,OAAO,SAAU,SAASR,KAAKyC,EAAOO,gBAAiBM,EAAOC,MAG7Fd,EAAOjC,OAASiC,EAAOO,gBACvBP,EAAOhC,aAAemC,EAGtBlC,EAAmBmC,EAAuBD,EAAaH,EAAOO,gBAG9D,IAAIS,GAAuB/D,EAAE,UAAUE,SAAS,oBAAoByB,SAASoB,EAAOC,WACpF5D,MAAK4E,kBAAoBpE,EAAmB,mCAAoC,oBACpC,WACQmD,EAAO1D,QAAQ4E,eAAiBlB,GAEhCA,EAAO1D,QAAQ4E,aAAelB,EAE9BA,EAAO1D,QAAQ2D,WAAWkB,KAAK,sBAAsBhC,YAAY,UAAUiC,OAC3EpB,EAAOiB,kBAAkB9D,SAAS,UAAUkE,SAI5CrB,EAAO1D,QAAQ4E,aAAe,KAC9BlB,EAAOiB,kBAAkB9B,YAAY,WAEzCa,EAAO1D,QAAQgF,MAAMC,cAAeC,OAAO,EAAMC,aAAa,MAEjE7C,SAASoC,GAAsBI,OAC5E/E,KAAKqF,YAAc7E,EAAmB,6BAA8B,mBACxB,WACQmD,EAAO1D,QAAQqF,gBAAkB3B,GAEjCA,EAAO1D,QAAQqF,cAAgB3B,EAE/BA,EAAO1D,QAAQ2D,WAAWkB,KAAK,qBAAqBhC,YAAY,UAAUiC,OAC1EpB,EAAO0B,YAAYvE,SAAS,UAAUkE,SAItCrB,EAAO1D,QAAQqF,cAAgB,KAC/B3B,EAAO0B,YAAYvC,YAAY,WAEnCa,EAAO1D,QAAQgF,MAAMC,cAAeC,OAAO,EAAMC,aAAa,MAEjE7C,SAASoC,GAAsBI,OAC5EpB,EAAOC,WAAW2B,MAAO,WACG5B,EAAOiB,kBAAkBI,OACzBrB,EAAO0B,YAAYL,QAEvB,WACQrB,EAAO1D,QAAQ4E,eAAiBlB,GAChCA,EAAOiB,kBAAkBG,OAEzBpB,EAAO1D,QAAQqF,gBAAkB3B,GACjCA,EAAO0B,YAAYN,SAKnDnE,EAAE,+BAA+B2B,SAASoB,EAAOC,YAErD/D,GAAOoB,EAAaX,WAIhBC,QAAS,WACL,GAAIR,GAAWD,EAAOQ,UAAUC,QAAQW,KAAKlB,KAC7C,OAAOH,GAAOE,GACVyF,KAAM,SACNjE,IAAKvB,KAAKuB,IACVC,IAAKxB,KAAKwB,IACVL,IAAKnB,KAAKmB,IACVG,KAAMtB,KAAKsB,QAMnBmE,KAAM,WACF,MAAO,IAAIxE,IAEHf,KAAMF,KAAKE,KACXC,MAAOH,KAAKG,MACZC,QAASJ,KAAKI,QACdC,cAAeL,KAAKK,iBAOhCgE,gBAAiB,SAAS9C,EAAKC,GAC3B,GAAI2C,GAAQ3C,EAAMD,CAClB,OAAiB,IAAT4C,EAAa,IAAO,GAKhCI,MAAO,SAASC,EAAOC,GACnB,GAAIH,GAASG,EAAGH,MAGhBtE,MAAK8D,YAAY/B,KAAKuC,EAAO,GAAK,IAAMA,EAAO,IAG/CtE,KAAKmB,IAAMmD,EAAO,GAClBtE,KAAKsB,KAAOgD,EAAO,EAGnB,IAAIoB,GAAO1F,IACX2F,YAAW,WACHrB,EAAO,KAAOoB,EAAKvE,KAAOmD,EAAO,KAAOoB,EAAKpE,MAC7CoE,EAAKzF,QAAQgF,MAAMC,cAAeC,OAAO,EAAMC,aAAa,KAEjE,KAMPQ,WAAY,SAASC,GACjB,MAAIA,GAAQ1D,OAASnC,KAAKG,OACf,GAEJ,GAKX2F,UAAW,SAAStC,GAChB,MAAQF,OAAME,IAASA,GAAOxD,KAAKmB,KAAOqC,GAAOxD,KAAKsB,MAM1DyE,KAAM,SAASF,GACX,IAAM7F,KAAK4F,WAAYC,GAEnB,OAAO,CAIX,IAGIG,GAAYH,EAAQ7F,KAAKG,MAC7B,IAAI6F,YAAqBC,OAAO,CAE5B,IAAK,GADDC,IAAY,EACPC,EAAI,EAAGA,EAAIH,EAAU7D,OAAQgE,IAClC,IAAKnG,KAAK8F,UAAUE,EAAUG,IAAK,CAE/BD,GAAY,CACZ,OAGR,MAAOA,GAGP,MAAOlG,MAAK8F,UAAUD,EAAQ7F,KAAKG,SAM3CiG,aAAc,SAASP,GACnB,GAAIQ,IAAU,CACd,KAAKrG,KAAK4F,WAAWC,GACjB,MAAOQ,EAQX,IAAI/B,GAASuB,EAAQ7F,KAAKG,MACpBmE,aAAkB2B,SACpB3B,GAAUA,GAId,KAAK,GAAI6B,GAAI,EAAGA,EAAI7B,EAAOnC,OAAQgE,IAAK,CACpC,GAAIG,GAAQhC,EAAO6B,EACfG,GAAQtG,KAAKuB,MACbvB,KAAKuB,IAAMgF,KAAKC,MAAMF,GACtBD,GAAU,GAEVC,EAAQtG,KAAKwB,MACbxB,KAAKwB,IAAM+E,KAAKE,KAAKH,GACrBD,GAAU,GAGlB,MAAOA,IAKXK,cAAe,WAIP1G,KAAKuB,IAAMvB,KAAKwB,IAChBxB,KAAK4D,WAAWoB,OAGhBhF,KAAK4D,WAAWmB,MAGpB,IACI7B,GAAalD,KAAK0B,OAAOA,OAAO,SAAU,OAC1CyB,EAAanD,KAAK0B,OAAOA,OAAO,SAAU,QAC1C1B,KAAKuB,IAAM2B,GAAclD,KAAKwB,IAAM2B,KAEpCnD,KAAK0B,OAAOA,OAAO,SAAU,MAAO1B,KAAKuB,KACzCvB,KAAK0B,OAAOA,OAAO,SAAU,MAAO1B,KAAKwB,KACzCxB,KAAK0B,OAAOA,OAAO,SAAU,OAAQ1B,KAAKqE,gBAAgBrE,KAAKuB,IAAKvB,KAAKwB,MAIzExB,KAAK0B,OAAOA,OAAO,SAAU,UAAW1B,KAAKuB,IAAKvB,KAAKwB,SAWnE,IAAImF,GAAiB,SAAS1B,EAAOlF,GA4BjC,GA3BAC,KAAKiF,MAAQA,EACbjF,KAAK6E,aAAe,KACpB7E,KAAKsF,cAAgB,KACrBtF,KAAK4G,WASL5G,KAAK4D,WAAahD,EAAE,UAAUE,SAAS,WAAWiE,OAElD/E,KAAK4D,WAAWiD,KAAK,OAAQ,SAASnE,GAClCA,EAAEC,oBACH3B,MAAM,SAAS0B,GACdA,EAAEC,oBACHkE,KAAK,WAAY,SAASnE,GACzBA,EAAEC,oBACHkE,KAAK,UAAW,SAASnE,GACxBA,EAAEC,oBAMF5C,GAAY,WAAaA,GAAU,CAMnC,IAAK,GADD4D,GAHAmD,GAAqB,gBAAkB/G,GAAWA,EAAS8E,aAAe,MAC1EkC,GAAsB,iBAAmBhH,GAAWA,EAASuF,cAAgB,MAC7E0B,EAAejH,EAAS6G,QAEnBT,EAAI,EAAGA,EAAIa,EAAa7E,OAAQgE,IACR,WAAzBa,EAAab,GAAGX,MAChB7B,EAAS,GAAI1C,GAAa+F,EAAab,IACvCnG,KAAKiH,WAAWtD,GACZA,EAAOzD,OAAS4G,IAChB9G,KAAK6E,aAAelB,EACpBA,EAAOiB,kBAAkB9D,SAAS,UAAUkE,QAE5CrB,EAAOzD,OAAS6G,IAChB/G,KAAKsF,cAAgB3B,EACrBA,EAAO0B,YAAYvE,SAAS,UAAUkE,SAI1CkC,QAAQC,IAAI,8BAA+BjH,KAAMsF,KAKrD,YAAazF,IAAYA,EAASqH,SAClCpH,KAAK4D,WAAWoB,OAKxB,GAA4B,IAAxBhF,KAAK4G,QAAQzE,OAAc,CAC3B,GAAIkF,GAAkBzG,EAAE,UAAUE,SAAS,aAAayB,SAASvC,KAAK4D,YAClE0D,EAAwB1G,EAAE,0BAA0BC,KAAK,QAAS,2BAA2B0B,SAAS8E,GACtGE,EAAiBvH,IACrBsH,GAAsBtG,MAAO,WACzBuG,EAAeC,oBA4K3B,OAtKA3H,GAAO8G,EAAerG,WAElB0E,KAAM,WAAahF,KAAK4D,WAAWoB,QACnCD,KAAM,WAAa/E,KAAK4D,WAAWmB,QACnC0C,OAAQ,WAAazH,KAAK4D,WAAW6D,UACrCL,QAAS,WAAa,MAAOpH,MAAK4D,WAAW8D,GAAG,aAIhDnH,QAAS,WAML,IAAK,GAHDoD,GAFA5D,KACA4H,KAIKxB,EAAI,EAAGA,EAAInG,KAAK4G,QAAQzE,OAAQgE,IACrCxC,EAAS3D,KAAK4G,QAAQT,GACtBwB,EAAaC,KAAKjE,EAAOpD,UAW7B,OATAR,GAAS6G,QAAUe,EAGnB5H,EAAS8E,aAAgB7E,KAAK6E,aAAe7E,KAAK6E,aAAa3E,KAAO,KACtEH,EAASuF,cAAiBtF,KAAKsF,cAAgBtF,KAAKsF,cAAcpF,KAAO,KAGzEH,EAASqH,QAAUpH,KAAK4D,WAAW8D,GAAG,YAE/B3H,GAKX0F,KAAM,SAASoC,GAEX,IAAK,GADDpC,GAAO,GAAIkB,GAAekB,GACrB1B,EAAI,EAAGA,EAAInG,KAAK4G,QAAQzE,OAAQgE,IACrCV,EAAKwB,WAAWjH,KAAK4G,QAAQT,GAAGV,OAEpC,OAAOA,IAKXwB,WAAY,SAAStD,GACjBA,EAAO1D,QAAUD,KACjBA,KAAK4D,WAAWI,OAAOL,EAAOC,YAC9B5D,KAAK4G,QAAQgB,KAAKjE,IAKtBmE,WAAY,WACR9H,KAAK4G,WACL5G,KAAK4D,WAAWmE,WAAWlF,UAK/BmF,aAAc,WACV,IAAK,GAAI7B,GAAI,EAAGA,EAAInG,KAAK4G,QAAQzE,OAAQgE,IAAK,CAC1C,GAAIxC,GAAS3D,KAAK4G,QAAQT,EAC1BxC,GAAO+C,kBAMfuB,cAAe,WACX,IAAK,GAAI9B,GAAI,EAAGA,EAAInG,KAAK4G,QAAQzE,OAAQgE,IAAK,CAC1C,GAAIxC,GAAS3D,KAAK4G,QAAQT,EAC1BxC,GAAOjC,OAAOA,OAAO,SAAU,UAAWiC,EAAOpC,IAAKoC,EAAOnC,MAEjExB,KAAK6E,aAAe,KACpB7E,KAAKsF,cAAgB,KAGrBtF,KAAK4D,WAAWkB,KAAK,gBAAgBC,QAEzCyC,eAAgB,WAiBZ,IAAK,GAFD7D,GACAuE,EAdAC,GAA0B,SAASC,EAAMC,EAAKC,GAK9C,MAHMD,KAAOD,KACTA,EAAKC,GAAOC,GAETF,EAAKC,KAOZE,KAGKpC,EAAI,EAAGA,EAAInG,KAAK4G,QAAQzE,OAAQgE,IACrCxC,EAAS3D,KAAK4G,QAAQT,GAClBxC,EAAOvD,UAEHuD,EAAOpC,MAAQoC,EAAOxC,MACtB+G,EAAyBC,EAAwBI,EAAgB5E,EAAOvD,YACxE8H,EAAuBA,EAAuB/F,QAAUwB,EAAOtD,cAAgB,OAASsD,EAAOxC,KAE/FwC,EAAOnC,MAAQmC,EAAOrC,OACtB4G,EAAyBC,EAAwBI,EAAgB5E,EAAOvD,YACxE8H,EAAuBA,EAAuB/F,QAAUwB,EAAOtD,cAAgB,OAASsD,EAAOrC,MAU3G,IAAIkH,KACJ,KAAK,GAAIpI,KAAWmI,GAChBC,EAAoBA,EAAoBrG,SAAW/B,EAASmI,EAAenI,KAK/E,QAAUqI,GAAWC,EAAkB9B,GACnC,GAEI+B,GAAe/B,EAAQ,GACvBxG,EAAUuI,EAAa,GACvBC,EAAeD,EAAa,GAC5BE,EAAkB,IAAMD,EAAaE,KAAK,WAAa,IACvDC,GACIC,KAAMH,EACNI,MAAOP,EACPQ,kBAAmBR,EACnBtI,QAASA,EAIjBwG,GAAUA,EAAQuC,MAAM,GAExBvI,EAAEwI,QAAQC,aAAcN,EAAY,SAASO,GACrCA,EAASC,MAETC,OAAOC,MAAMzE,MACTvE,MAAO,iBACPiJ,KAAO,sBAAwBtJ,EAC/BuJ,SAAYC,MAAUJ,OAAOC,MAAM1E,UAGf,IAAnB6B,EAAQzE,OAEbqH,OAAOC,MAAMzE,MACTvE,MAAO,oBACPiJ,KAAM,mFACNC,SAAWC,MAAUJ,OAAOC,MAAM1E,UAKtC0D,EAAWa,EAASO,WAAYjD,MAIzC5G,KAAKiF,MAAM4E,WAAYrB,OAK9B7B,eAAgBA,EAChB1F,aAAcA"}