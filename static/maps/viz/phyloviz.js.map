{"version":3,"file":"phyloviz.js","sources":["../../src/viz/phyloviz.js"],"names":["define","d3","visualization_mod","data_mod","mod_icon_btn","PhyloTreeLayout","layout","node","maxDepth","vertSeparation","parent","children","sumChildVertSeparation","dist","defaultDist","y0","depthSeparation","maxTextWidth","forEach","child","x0","length","leafIndex","x","y","self","this","hierarchy","sort","value","height","layoutMode","leafHeight","inputLeafHeight","mode","layoutAngle","angle","isNaN","separation","links","nodes","tree","d","i","toString","call","_nodes","numLeaves","window","_d","depth","push","UserMenuBase","Backbone","View","extend","className","isAcceptableValue","$inputKey","min","max","isNumeric","n","parseFloat","isFinite","val","fieldName","attr","replace","alert","hasIllegalJsonCharacters","search","PhyloTree","Visualization","defaults","type","title","scaleFactor","translate","fontSize","selectedNode","nodeAttrChangedTime","initialize","options","set","Dataset","id","dataset_id","root","toggle","_children","toggleAll","getData","save","cleanTree","_selected","config","jQuery","attributes","show_message","$","ajax","url","dataType","data","JSON","stringify","success","hide_modal","PhylovizLayoutBase","nodeRadius","stdInit","model","on","updateAndRender","vis","width","source","select","renderNodes","renderLinks","addTooltips","link","diagonal","duration","selectAll","target","calcalateLinePos","pos0","pos1","pos2","linkEnter","enter","insert","append","linkUpdate","transition","exit","remove","selectNode","classed","name","annotation","__data__","bootstrap","Math","round","tooltip","placement","trigger","PhylovizLinearView","margins","svg","projection","get","nodeEnter","event","stopPropagation","altKey","style","nodeUpdate","text","nodeExit","PhylovizView","MIN_SCALE","MAX_SCALE","MAX_DISPLACEMENT","radius","resize","render","phyloTree","zoomFunc","behavior","zoom","scaleExtent","scale","navMenu","HeaderButtons","settingsMenu","SettingsMenu","nodeSelectionView","NodeSelectionView","PhyloVizSearch","setTimeout","zoomAndPan","empty","mainSVG","boundingRect","layoutOptions","zoomParams","translateParams","translationCoor","zoomStatement","translateStatement","split","reloadViz","treeIndex","getJSON","tree_index","data_type","packedJson","phylovizView","off","initNavBtns","initRightHeaderBtns","rightMenu","create_icon_buttons_menu","icon_class","on_click","show","updateUI","nexSelected","open","tooltip_config","$el","el","inputs","hide","resetToDefaults","apply","each","key","$input","UI","enableEdit","saveChanges","cancelChanges","valuesOfConcern","updateNodes","fn","enable","isEnabled","removeAttr","toggleUI","checked","is","Date","searchTerm","searchConditionVal","condition","searchTree","attrVal","toLowerCase","indexOf"],"mappings":"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"}