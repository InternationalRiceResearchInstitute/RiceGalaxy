{"version":3,"file":"spans.js","sources":["../../../src/libs/bbi/spans.js"],"names":["define","Range","min","max","this","_min","_max","_Compound","ranges","sorted","sort","_rangeOrder","merged","current","shift","forEach","range","push","_ranges","union","s0","s1","Array","insertRange","intersection","r0","r1","l0","length","l1","i0","i1","or","lapMin","Math","lapMax","coverage","s","tot","rl","ri","r","rangeOrder","a","b","prototype","contains","pos","isContiguous","_pushRanges","toString","lower_bound","m","floor","lb","splice","ub","rangeOver"],"mappings":"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"}