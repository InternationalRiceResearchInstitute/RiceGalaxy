{"version":3,"file":"jstorage.js","sources":["../../../src/libs/jquery/jstorage.js"],"names":["_init","localStorageReallyWorks","window","localStorage","setItem","removeItem","BogusQuotaExceededErrorOnIos5","_storage_service","_backend","_observer_update","jStorage_update","E3","globalStorage","location","hostname","E4","_storage_elm","document","createElement","addBehavior","style","behavior","getElementsByTagName","appendChild","load","E","setAttribute","save","data","getAttribute","E5","E6","jStorage","_load_storage","_handleTTL","_setupObserver","_handlePubSub","addEventListener","event","persisted","_storageObserver","_reloadData","attachEvent","setInterval","updateTime","clearTimeout","_observer_timeout","setTimeout","_checkUpdatedKeys","newCrc32List","oldCrc32List","JSON","parse","stringify","_storage","__jstorage_meta","CRC32","key","updated","removed","hasOwnProperty","push","String","substr","_fireObservers","keys","action","concat","_observers","i","len","length","j","jlen","_publishChange","Date","toString","E8","_storage_size","_save","_dropOldEvents","E7","_checkKey","TypeError","curtime","TTL","nextExpire","changed","deleted","_ttl_timeout","PubSub","pubelm","_pubsubCurrent","_pubsub_last","_fireSubscribers","channel","payload","_pubsub_observers","retire","splice","_publish","unshift","murmurhash2_32_gc","str","seed","k","l","h","charCodeAt","JSTORAGE_VERSION","$","jQuery","decode","prototype","evalJSON","parseJSON","Object","toJSON","encode","Error","_XMLService","isXML","elm","documentElement","ownerDocument","nodeName","xmlNode","this","XMLSerializer","serializeToString","E1","xml","E2","xmlString","resultXML","dom_parser","DOMParser","parseFromString","ActiveXObject","_xmlString","xml_doc","async","loadXML","call","version","set","value","options","deleteKey","_is_xml","undefined","setTTL","get","def","ttl","Number","getTTL","flush","storageObj","F","index","storageSize","currentBackend","storageAvailable","listenKeyChange","callback","stopListening","subscribe","publish","reInit"],"mappings":"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"}