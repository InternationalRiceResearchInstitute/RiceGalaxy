{"version":3,"file":"tag.js","sources":["../../src/mvc/tag.js"],"names":["define","baseMVC","_l","TagsEditor","Backbone","View","extend","LoggableMixin","HiddenUntilActivatedViewMixin","tagName","className","select_width","events","initialize","options","this","show_editor","label","usePrompt","workflow_mode","click","keydown","hiddenUntilActivated","$activator","render","self","$el","html","_workflowTemplate","_defaultTemplate","$input","select2","placeholder","width","tags","_getTagsUsed","_setUpBehaviors","_hashToName","tag","startsWith","slice","_nameToHash","_renderEditor","join","_renderTags","keydownHandler","e","which","hideEditor","showEditor","tagsToCSV","model","get","addButton","renderedArray","_","each","indexOf","renderString","push","length","tagsArray","isArray","isEmpty","map","escape","sort","find","Galaxy","user","on","event","val","save","added","_addNewTagToTagsUsed","text","newTag","tagsUsed","contains","set","remove","off","stopListening","prototype","call","toString"],"mappings":"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"}