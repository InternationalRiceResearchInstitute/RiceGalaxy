{"version":3,"file":"repository-view.js","sources":["../../../src/mvc/toolshed/repository-view.js"],"names":["define","toolshed_model","jstree","Utils","Modal","FormView","toolshed_util","ToolShedRepositoryView","Backbone","View","extend","el","initialize","params","this","options","_","defaults","model","RepositoryCollection","listenTo","render","shed","tool_shed","replace","url","repository_id","tool_shed_url","category","fetch","repo_details_template","templateRepoDetails","models","repository","get","queue","queueLength","changesets","Object","keys","metadata","current_changeset","length","current_metadata","tools","repository_dependencies_template","templateRepoDependencies","repository_dependency_template","templateRepoDependency","tps_template_global_select","templateGlobalSectionSelect","tps_template_tool_select","templateToolSectionSelect","tps_select_options","templatePanelSelectOptions","tool_dependencies","shed_tool_conf","templateShedToolConf","stc_html","panel_section_dict","api_url","Galaxy","root","$el","html","checkInstalled","bindEvents","$","css","that","on","find","text","reDraw","tpsSelection","ev","preventDefault","repositories","JSON","stringify","attr","val","tool_shed_repository_ids","install_tool_dependencies","install_repository_dependencies","install_resolver_dependencies","panelSelect","tool_panel_section","changeset","prepareInstall","repository_metadata","each","key","substr","addToQueue","new_value","default_tps","removeAttr","guid","name","desc","tsr_id","data","cls","toolform","deepeach","inputs","input","type","indexOf","info","textify","extensions","modal","modal_title","show","closing_events","title","body","buttons","Close","hide","owner","already_installed","repoQueued","index","installed","deleted","uninstalled","changeset_match","changeset_revision","installed_changeset_revision","prop","tool_panel_section_id","new_tool_panel_section","element_name","tool_guid","action","empty","localStorage","queue_key","parse","queueKey","queued_repos","hasOwnProperty","shed_url","new_tps","post","iri_parameters","doInstall","controller_url","new_route","join","console","log","history","navigate","trigger","template","templateToolDependency","templateGlobalSectionCreate","templateToolSectionCreate","RepoDetails"],"mappings":"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jEO,oBAAqBf,EAAE8I,UACnB,yEACI,iKACA,wJACJ,SACA,6FACI,sGACI,mFACA,2FACA,yBACI,6CACA,uCACI,gEACI,uEACI,wGACA,0FACJ,YACJ,YACA,wMACA,6IACA,kIACJ,SACJ,SACA,wBACA,4DACI,gIACA,6BACI,oDACI,yEACA,uFACJ,OACA,0FACA,oEACI,2BACI,wEACI,qGACJ,OACJ,SACA,4DACJ,SACJ,SACJ,UACA,2DACI,qDACA,6BACI,kDACI,uEACA,mFACJ,OACA,8CACI,mEACA,2EACJ,OACA,8DACI,2BACI,kEACI,6FACJ,OACJ,SACA,8HACI,UACI,sGACI,4CACA,mBACA,gBACJ,QACJ,WACA,yBACI,4EACI,0EACI,mCACA,8BACA,qCACA,kCACJ,QACJ,YACJ,WACJ,WACJ,SACJ,SACJ,UACA,yEACI,6IACA,6BACI,yDACI,kHACI,UACI,sGACI,4CACA,uBACA,mBACA,gHACR,WACA,6BACQ,wDACI,0GACI,mCACI,wFACI,gPACJ,SACJ,QACA,mCACA,kDACA,0DACI,iHACJ,QACJ,QACJ,YACR,WACJ,WACJ,SACJ,SACJ,UACJ,UACJ,UACFN,KAAK,KAEP1G,yBAA0B9B,EAAE8I,UACxB,2DACA,iFACI,OACI,qDACI,2CACI,+DACI,oFACA,oDACJ,YACJ,UACJ,QACJ,QACJ,UAAUN,KAAK,KAEnBxG,uBAAwBhC,EAAE8I,UACtB,4EACI,6HACA,2CACI,kCACI,+DACI,oFACA,oDACJ,YACJ,QACJ,UACJ,SACFN,KAAK,KAEP/F,qBAAsBzC,EAAE8I,UACpB,iEACA,6BACI,yBACI,kBACA,kJACJ,SACJ,UACFN,KAAK,KAEPO,uBAAwB/I,EAAE8I,UACtB,2CACI,+DACI,qDACI,uEACA,8CACJ,UACJ,YACJ,WACFN,KAAK,KAEPQ,4BAA6BhJ,EAAE8I,UAC3B,gCACI,sCACI,yGACA,+FACA,mDACI,0EACJ,SACJ,SACJ,UACFN,KAAK,KAEPtG,4BAA6BlC,EAAE8I,UAC3B,gCACI,sDACA,6BACI,yCACI,iDACI,sDACJ,YACA,qFACA,mDACI,mFACJ,SACJ,SACJ,SACJ,UACFN,KAAK,KAEPS,0BAA2BjJ,EAAE8I,UACzB,uFACI,+KACA,uLACJ,UACFN,KAAK,KAEPpG,0BAA2BpC,EAAE8I,UACzB,6FACI,kMACI,sDACJ,YACA,8NACA,yDACJ,UACFN,KAAK,KAEPlG,2BAA4BtC,EAAE8I,UAC1B,6CACI,iEACJ,aACFN,KAAK,MAGX,QACIU,YAAa3J"}