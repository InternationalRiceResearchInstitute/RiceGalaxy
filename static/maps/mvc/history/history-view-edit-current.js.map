{"version":3,"file":"history-view-edit-current.js","sources":["../../../src/mvc/history/history-view-edit-current.js"],"names":["define","HISTORY_MODEL","HISTORY_VIEW_EDIT","BASE_MVC","_l","HistoryViewPrefs","SessionStorageModel","extend","defaults","tagsEditorShown","annotationEditorShown","scrollPosition","toString","JSON","stringify","this","toJSON","storageKey","_super","HistoryViewEdit","CurrentHistoryView","className","prototype","HDCAViewClass","foldoutStyle","emptyMsg","join","initialize","attributes","preferences","_","id","pick","keys","call","panelStack","currentContentId","_setUpListeners","panel","on","set","loadCurrentHistory","loadHistory","url","Galaxy","root","switchToHistory","historyId","user","isAnonymous","trigger","$","when","createNewHistory","setModel","model","render","log","checkForUpdates","_setUpModelListeners","listenTo","change:nice_size change:size","arguments","change:id","once","_setUpCollectionListeners","collection","get","storage","includeHidden","removeItemView","_setUpBehaviors","$where","$el","_debouncedScrollCaptureHandler","debounce","is","scrollTop","$scrollContainer","off","_buildNewRender","$newRender","find","prependTo","_renderQuotaMessage","$whereTo","templates","quotaMsg","_renderTags","tagsEditor","toggle","hidden","_renderAnnotation","annotationEditor","_swapNewRender","delay","pos","scrollTo","_attachItems","_setCurrentContentById","addItemView","options","view","length","_collapseDrilldownPanel","_setUpItemViewListeners","expanded:drilldown","v","drilldown","_expandDrilldownPanel","collapsed:drilldown","setCurrentContent","removeClass","addClass","viewFromModelId","push","$controls","add","$list","hide","parentName","delegateEvents","appendTo","pop","show","events","clone","click .uploader-link","ev","upload","click .get-data-link","$toolMenu","parent","click","listenToGalaxy","galaxy","center-frame:load","data","pathToMatch","fullpath","hdaId","useToURLRegexMap","display","edit","report_error","rerun","show_params","regex","result","match","center-panel:load","connectToQuotaMeter","quotaMeter","showQuotaMessage","hideQuotaMessage","isOverQuota","clearMessages","$target","isUndefined","$messages","children","currentTarget","not","fadeOut","fxSpeed","remove","$msg","slideDown","slideUp","unhideHidden","self","confirm","contents","_filterAndUpdate","visible","deleted","purged","done","renderItems","jQuery","deleteHidden","quotaMsgTemplate","wrapTemplate"],"mappings":"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"}