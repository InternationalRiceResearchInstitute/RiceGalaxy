{"version":3,"file":"job-dag.js","sources":["../../../src/mvc/history/job-dag.js"],"names":["define","GRAPH","addLogging","_super","Graph","JobDAG","options","self","this","filters","_jobsData","_historyContentsMap","_toolMap","_outputIdToJobMap","noInputJobs","noOutputJobs","filteredSetMetadata","filteredErroredJobs","dataKeys","call","_","pick","omit","prototype","constructor","init","defaults","excludeSetMetadata","_initFilters","push","jobData","job","tool_id","id","excludeErroredJobs","state","isArray","concat","debug","length","read","data","has","preprocessHistoryContents","historyContents","preprocessTools","tools","preprocessJobs","jobs","createGraph","_filterJobs","info","forEach","content","clone","each","tool","sort","map","preprocessJob","cmpCreate","a","b","create_time","inputs","_processInputs","size","outputs","_processOutputs","inputMap","input","nameInJob","_validateInputOutput","name","inputOutput","Error","JSON","stringify","src","outputMap","output","filter","j","i","_filterJob","jobsData","createVertex","targetId","inputId","sourceId","joblessVertex","createJobLessVertex","createEdge","directed","dataset","toVerticesAndEdges","contentId","JOBLESS_ID_MANGLER","mangledId","weakComponentGraphArray","dag","weakComponents","component","vertices","aCreateTime","bCreateTime","_jobsDataMap","jobsDataMap"],"mappings":"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"}