{"version":3,"file":"collection-view.js","sources":["../../../../src/mvc/upload/collection/collection-view.js"],"names":["define","Utils","UploadModel","UploadRow","UploadFtp","Popover","Select","Ui","Backbone","View","extend","upload_size","collection","Collection","counter","announce","success","error","running","reset","this","initialize","app","self","options","list_extensions","list_genomes","ui_button","ftp_upload_site","currentFtp","setElement","_template","btnLocal","Button","id","title","onclick","uploadbox","select","icon","btnFtp","_eventFtp","btnCreate","_eventCreate","btnStart","_eventStart","btnBuild","_eventBuild","btnStop","_eventStop","btnReset","_eventReset","btnClose","modal","hide","_","each","button","$","prepend","$el","url","nginx_upload_path","index","file","_eventAnnounce","toData","get","history_id","progress","percentage","_eventProgress","message","_eventSuccess","_eventError","complete","_eventComplete","ondragover","addClass","ondragleave","removeClass","console","log","ftp","container","select_extension","css","data","filter","ext","composite_files","value","default_extension","onchange","extension","updateExtension","collectionType","select_collection","text","updateCollectionType","on","e","showExtensionInfo","target","placement","preventDefault","select_genome","default_genome","genome","updateGenome","model","_eventRemove","_updateScreen","new_model","Model","file_name","name","file_size","size","file_mode","mode","file_path","path","file_data","add","upload_row","append","render","it","set","_uploadPercentage","hids","pluck","status","upload_completed","Galaxy","currHistoryPanel","refreshContents","info","allHids","forEach","models","upload","push","apply","map","hid","getByHid","selection","constructor","historyId","buildCollection","remove","description","findWhere","extension_popup","empty","_templateDescription","show","visible","onadd","ftp_file","onremove","model_index","currentHistory","start","html","stop","defaults_only","compatible","enable_reset","enable_start","enable_build","enable_sources","show_table","tmpl","description_url"],"mappings":"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"}