{"version":3,"file":"dataset-li-edit.js","sources":["../../../src/mvc/dataset/dataset-li-edit.js"],"names":["define","STATES","DATASET_LI","TAGS","ANNOTATIONS","faIconButton","BASE_MVC","_l","_super","DatasetListItemView","DatasetListItemEdit","extend","initialize","attributes","prototype","call","this","hasUser","purgeAllowed","tagsEditorShown","annotationEditorShown","_renderPrimaryActions","actions","model","get","NOT_VIEWABLE","concat","_renderEditButton","_renderDeleteButton","self","DISCARDED","purged","deleted","editBtnData","title","href","Galaxy","root","id","faIcon","classes","onclick","ev","router","preventDefault","push","dataset_id","disabled","_","contains","UPLOAD","NEW","deletedAlready","isDeletedOrPurged","$el","find","trigger","_renderDetails","$details","state","OK","FAILED_METADATA","_renderTags","_renderAnnotation","_makeDbkeyEditLink","_setUpBehaviors","_renderToolHelpButton","datasetID","jobID","creating_job","parseToolBuild","data","helpString","name","help","append","$","parseHTML","parseToolID","ajax","url","tool_id","done","fail","user","length","toggle","console","log","_renderSecondaryActions","ERROR","unshift","_renderErrButton","_renderRerunButton","_renderVisualizationsButton","urls","rerun","target","linkTarget","job_id","visualizations","hasData","isEmpty","isObject","warn","$visualizations","templates","attr","_addScratchBookFn","addBack","$links","click","frame","active","add","stopPropagation","$where","view","tagsEditor","TagsEditor","el","onshowFirstTime","render","onshow","onhide","$activator","appendTo","annotationEditor","AnnotationEditor","editableDbkey","edit","replaceWith","events","clone","click .undelete-link","click .purge-link","click .edit-btn","click .delete-btn","click .rerun-btn","click .report-err-btn","click .visualization-btn","click .dbkey a","_clickUndeleteLink","undelete","_clickPurgeLink","confirm","purge","toString","modelString","warnings","failed_metadata","wrapTemplate","visualizationsTemplate"],"mappings":"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"}