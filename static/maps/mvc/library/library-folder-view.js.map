{"version":3,"file":"library-folder-view.js","sources":["../../../src/mvc/library/library-folder-view.js"],"names":["define","mod_toastr","mod_library_model","mod_select","FolderView","Backbone","View","extend","el","model","options","events","click .toolbtn_save_permissions","initialize","this","_","id","fetchFolder","FolderAsModel","that","fetch","success","show_permissions","showPermissions","error","response","responseJSON","err_msg","onclick","Galaxy","libraries","library_router","back","$","remove","is_admin","user","isAdmin","template","templateFolderPermissions","$el","html","folder","self","get","root","done","fetched_permissions","prepareSelectBoxes","fail","tooltip","css","_serializeRoles","role_list","selected_roles","i","length","push","selected_add_item_roles","add_library_item_role_list","selected_manage_folder_roles","manage_folder_role_list","selected_modify_folder_roles","modify_folder_role_list","addSelectObject","_createSelectOptions","manageSelectObject","modifySelectObject","init_data","select_options","minimumInputLength","multiple","placeholder","container","find","ajax","url","dataType","quietMillis","data","term","page","q","page_limit","results","more","total","roles","formatResult","role","name","type","formatSelection","initSelection","element","callback","val","split","each","item","initialData","join","dropdownCssClass","_extractIds","roles_list","ids_list","savePermissions","add_ids","select2","manage_ids","modify_ids","post","add_ids[]","manage_ids[]","modify_ids[]"],"mappings":"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"}