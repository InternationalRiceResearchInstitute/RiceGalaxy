{"version":3,"file":"library-library-view.js","sources":["../../../src/mvc/library/library-library-view.js"],"names":["define","mod_toastr","mod_library_model","mod_select","LibraryView","Backbone","View","extend","el","model","options","events","click .toolbtn_save_permissions","initialize","this","_","id","fetchLibrary","Library","that","fetch","success","show_permissions","showPermissions","error","response","responseJSON","err_msg","onclick","Galaxy","libraries","library_router","back","$","remove","undefined","fetched_permissions","set","access_library_role_list","length","is_unrestricted","is_admin","user","isAdmin","template","templateLibraryPermissions","$el","html","library","self","get","root","done","prepareSelectBoxes","fail","tooltip","css","_serializeRoles","role_list","selected_roles","i","push","selected_access_library_roles","selected_add_item_roles","add_library_item_role_list","selected_manage_library_roles","manage_library_role_list","selected_modify_library_roles","modify_library_role_list","accessSelectObject","_createSelectOptions","addSelectObject","manageSelectObject","modifySelectObject","init_data","is_library_access","select_options","minimumInputLength","multiple","placeholder","container","find","ajax","url","dataType","quietMillis","data","term","page","q","page_limit","results","more","total","roles","formatResult","role","name","type","formatSelection","initSelection","element","callback","val","split","each","item","initialData","dropdownCssClass","makeDatasetPrivate","post","removeDatasetRestrictions","_extractIds","roles_list","ids_list","savePermissions","access_ids","select2","add_ids","manage_ids","modify_ids","access_ids[]","add_ids[]","manage_ids[]","modify_ids[]","join"],"mappings":"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"}