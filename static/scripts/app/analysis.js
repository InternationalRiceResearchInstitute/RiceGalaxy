define([],function(){Backbone.View.extend({initialize:function(a){this.options=Utils.merge(a,{}),this.setElement(this._template());var b=this.options.params;this.$("#galaxy_main").prop("src",Galaxy.root+(b.tool_id&&"tool_runner?"+$.param(b)||b.workflow_id&&"workflow/run?id="+b.workflow_id||b.m_c&&b.m_c+"/"+b.m_a||Galaxy.config.require_login&&!Galaxy.user.id&&"user/login"||"root/welcome"));var c=this;this.$("#galaxy_main").on("load",function(){$(this).show(),c.$("#center-panel").empty().hide()})},display:function(a){this.$("#galaxy_main").hide(),this.$("#center-panel").empty().scrollTop(0).append(a).show()},_template:function(){return'<div style="position: absolute; width: 100%; height: 100%"><iframe name="galaxy_main" id="galaxy_main" frameborder="0" style="position: absolute; width: 100%; height: 100%;"/><div id="center-panel" style="position: absolute; width: 100%; height: 100%; padding: 10px; overflow: auto;"/></div>'}}),Backbone.View.extend({initialize:function(a){if(this.options=Utils.merge(a,{}),this.setElement(this._template()),Galaxy.user.id||!Galaxy.config.require_login){var b=new Tools.ToolSearch({spinner_url:a.spinner_url,search_url:a.search_url,hidden:!1}),c=new Tools.ToolCollection(a.toolbox),d=new Tools.ToolPanel({tool_search:b,tools:c,layout:a.toolbox_in_panel});tool_panel_view=new Tools.ToolPanelView({model:d}),Galaxy.toolPanel=d,d.get("layout").size()>0&&(tool_panel_view.render(),this.$(".toolMenu").show()),this.$el.prepend(tool_panel_view.$el),this.$("#internal-workflows").append(this._templateTool({title:"All workflows",href:"workflow/list_for_run"}));for(var e in a.stored_workflow_menu_entries){var f=a.stored_workflow_menu_entries[e];this.$("#internal-workflows").append(this._templateTool({title:f.stored_workflow.name,href:"workflow/run?id="+f.encoded_stored_workflow_id}))}this.$("a[minsizehint]").click(function(){parent.handle_minwidth_hint&&parent.handle_minwidth_hint($(this).attr("minsizehint"))}),Galaxy.upload=new Upload(a),this.components={header:{title:"Tools",buttons:[Galaxy.upload]}}}},_templateTool:function(a){return'<div class="toolTitle"><a href="'+Galaxy.root+a.href+'" target="galaxy_main">'+a.title+"</a></div>"},_template:function(){return'<div class="toolMenuContainer"><div class="toolMenu" style="display: none"><div id="search-no-results" style="display: none; padding-top: 5px"><em><strong>Search did not match any tools.</strong></em></div></div><div class="toolSectionPad"/><div class="toolSectionPad"/><div class="toolSectionTitle" id="title_XXinternalXXworkflow"><span>Workflows</span></div><div id="internal-workflows" class="toolSectionBody"><div class="toolSectionBg"/></div></div>'}}),Backbone.View.extend({initialize:function(a){this.options=Utils.merge(a,{}),this.setElement(this._template());var b=new Ui.ButtonLink({id:"history-refresh-button",title:"Refresh history",cls:"panel-header-button",icon:"fa fa-refresh",onclick:function(){top.Galaxy&&top.Galaxy.currHistoryPanel&&top.Galaxy.currHistoryPanel.loadCurrentHistory()}}),c=new Ui.ButtonLink({id:"history-options-button",title:"History options",cls:"panel-header-button",target:"galaxy_main",icon:"fa fa-cog",href:Galaxy.root+"root/history_options"}),d=new Ui.ButtonLink({id:"history-view-multi-button",title:"View all histories",cls:"panel-header-button",icon:"fa fa-columns",href:Galaxy.root+"history/view_multiple"});this.components={header:{title:"History",cls:"history-panel-header",buttons:[b,c,d]},body:{cls:"unified-panel-body-background"}},Galaxy.historyOptionsMenu=optionsMenu(c.$el,{anonymous:Galaxy.user.id&&"true"||"false",purgeAllowed:Galaxy.config.allow_user_dataset_purge&&"true"||"false",root:Galaxy.root}),Galaxy.currHistoryPanel=new HistoryPanel.CurrentHistoryPanel({el:this.$el,purgeAllowed:Galaxy.config.allow_user_dataset_purge,linkTarget:"galaxy_main",$scrollContainer:function(){return this.$el.parent()}}),Galaxy.currHistoryPanel.connectToQuotaMeter(Galaxy.quotaMeter),Galaxy.currHistoryPanel.listenToGalaxy(Galaxy),Galaxy.currHistoryPanel.loadCurrentHistory()},_template:function(){return'<div id="current-history-panel" class="history-panel"/>'}});return{left:Backbone.View.extend({initialize:function(){}})}});
//# sourceMappingURL=../../maps/app/analysis.js.map