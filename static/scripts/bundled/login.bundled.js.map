{"version":3,"sources":["webpack:///login.bundled.js","webpack:///./galaxy/scripts/apps/login.js"],"names":["webpackJsonp","module","exports","__webpack_require__","Backbone","_","jQuery","$","GalaxyApp","_l","Page","window","app","options","bootstrapped","Galaxy","debug","redirect","encodeURI","show_welcome_with_login","params","param","use_panels","location","href","root","LoginPage","View","extend","initialize","page","this","model","Model","title","setElement","_template","render","prop","welcome_url","login_url","Right","call"],"mappings":"AAAAA,cAAc,IAER,SAAUC,EAAQC,EAASC,ICFjC,SAAAC,EAAAC,GAAA,GAAIC,GAASH,EAAS,GAClBI,EAAID,EACJE,EAAYL,EAAS,IAAWK,UAChCC,EAAKN,EAAS,GACdO,EAAOP,EAAS,GAEpBQ,QAAOC,IAAM,SAAcC,EAASC,GAChCH,OAAOI,OAAS,GAAIP,GAAWK,EAASC,GACxCC,OAAOC,MAAO,YACd,IAAIC,GAAWC,UAAWL,EAAQI,SAIlC,KAAKJ,EAAQM,wBAAyB,CAClC,GAAIC,GAASd,EAAOe,OAAQC,WAAa,OAAQL,SAAWA,GAE5D,aADAN,OAAOY,SAASC,KAAOT,OAAOU,KAAO,cAAgBL,GAIzD,GAAIM,GAAYtB,EAASuB,KAAKC,QAC1BC,WAAY,SAAUC,GAClBC,KAAKD,KAAOA,EACZC,KAAKC,MAAQ,GAAI5B,GAAS6B,OAAQC,MAAQzB,EAAI,oBAC9CsB,KAAKI,WAAYJ,KAAKK,cAE1BC,OAAQ,WACJN,KAAKD,KAAKvB,EAAG,gBAAiB+B,KAAM,MAAOzB,EAAQ0B,cAEvDH,UAAY,WACR,GAAII,GAAY3B,EAAQY,KAAO,cAAgBlB,EAAEc,OAASJ,SAAWA,GACrE,OAAO,gBAAkBuB,EAAY,2DAI7CjC,GAAE,WACEQ,OAAOe,KAAO,GAAIpB,GAAKiB,KAAMtB,EAAEuB,OAAQf,GACnC4B,MAAQf,UDQUgB,KAAKxC,EAASC,EAAoB,GAAIA,EAAoB","file":"login.bundled.js","sourcesContent":["webpackJsonp([5],[\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(Backbone, _) {var jQuery = __webpack_require__(1),\n\t    $ = jQuery,\n\t    GalaxyApp = __webpack_require__(52).GalaxyApp,\n\t    _l = __webpack_require__(6),\n\t    Page = __webpack_require__(53);\n\t\n\twindow.app = function app(options, bootstrapped) {\n\t    window.Galaxy = new GalaxyApp(options, bootstrapped);\n\t    Galaxy.debug('login app');\n\t    var redirect = encodeURI(options.redirect);\n\t\n\t    // TODO: remove iframe for user login (at least) and render login page from here\n\t    // then remove this redirect\n\t    if (!options.show_welcome_with_login) {\n\t        var params = jQuery.param({ use_panels: 'True', redirect: redirect });\n\t        window.location.href = Galaxy.root + 'user/login?' + params;\n\t        return;\n\t    }\n\t\n\t    var LoginPage = Backbone.View.extend({\n\t        initialize: function (page) {\n\t            this.page = page;\n\t            this.model = new Backbone.Model({ title: _l('Login required') });\n\t            this.setElement(this._template());\n\t        },\n\t        render: function () {\n\t            this.page.$('#galaxy_main').prop('src', options.welcome_url);\n\t        },\n\t        _template: function () {\n\t            var login_url = options.root + 'user/login?' + $.param({ redirect: redirect });\n\t            return '<iframe src=\"' + login_url + '\" frameborder=\"0\" style=\"width: 100%; height: 100%;\"/>';\n\t        }\n\t    });\n\t\n\t    $(function () {\n\t        Galaxy.page = new Page.View(_.extend(options, {\n\t            Right: LoginPage\n\t        }));\n\t    });\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2), __webpack_require__(3)))\n\n/***/ })\n]);\n\n\n// WEBPACK FOOTER //\n// login.bundled.js","var jQuery = require( 'jquery' ),\n    $ = jQuery,\n    GalaxyApp = require( 'galaxy' ).GalaxyApp,\n    _l = require( 'utils/localization' ),\n    Page = require( 'layout/page' );\n\nwindow.app = function app( options, bootstrapped ){\n    window.Galaxy = new GalaxyApp( options, bootstrapped );\n    Galaxy.debug( 'login app' );\n    var redirect = encodeURI( options.redirect );\n\n    // TODO: remove iframe for user login (at least) and render login page from here\n    // then remove this redirect\n    if( !options.show_welcome_with_login ){\n        var params = jQuery.param({ use_panels : 'True', redirect : redirect });\n        window.location.href = Galaxy.root + 'user/login?' + params;\n        return;\n    }\n\n    var LoginPage = Backbone.View.extend({\n        initialize: function( page ) {\n            this.page = page;\n            this.model = new Backbone.Model({ title : _l( 'Login required' ) } );\n            this.setElement( this._template() );\n        },\n        render: function() {\n            this.page.$( '#galaxy_main' ).prop( 'src', options.welcome_url );\n        },\n        _template : function() {\n            var login_url = options.root + 'user/login?' + $.param( { redirect : redirect } );\n            return '<iframe src=\"' + login_url + '\" frameborder=\"0\" style=\"width: 100%; height: 100%;\"/>';\n        }\n    });\n\n    $(function(){\n        Galaxy.page = new Page.View( _.extend( options, {\n            Right : LoginPage\n        } ) );\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./galaxy/scripts/apps/login.js"],"sourceRoot":""}