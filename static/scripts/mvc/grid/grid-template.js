define(["utils/utils"],function(a){return{grid:function(a){var b="";return b=a.embedded?this.grid_header(a)+this.grid_table(a):'<div class="loading-elt-overlay"></div><table><tr><td width="75%">'+this.grid_header(a)+'</td><td></td><td></td></tr><tr><td width="100%" id="grid-message" valign="top"></td><td></td><td></td></tr></table>'+this.grid_table(a),a.info_text&&(b+='<br><div class="toolParamHelp" style="clear: both;">'+a.info_text+"</div>"),b},grid_table:function(){return'<form method="post" onsubmit="return false;"><table id="grid-table" class="grid"><thead id="grid-table-header"></thead><tbody id="grid-table-body"></tbody><tfoot id="grid-table-footer"></tfoot></table></form>'},grid_header:function(a){var b='<div class="grid-header">';if(a.embedded||(b+="<h2>"+a.title+"</h2>"),a.global_actions){b+='<ul class="manage-table-actions">';var c=a.global_actions.length>=3;c&&(b+='<li><a class="action-button" id="popup-global-actions" class="menubutton">Actions</a></li><div popupmenu="popup-global-actions">');for(var d in a.global_actions){var e=a.global_actions[d];b+='<li><a class="action-button use-target" target="'+e.target+'" href="'+e.url_args+'" onclick="return false;" >'+e.label+"</a></li>"}c&&(b+="</div>"),b+="</ul>"}return a.insert&&(b+=a.insert),b+=this.grid_filters(a),b+="</div>"},header:function(a){var b="<tr>";a.show_item_checkboxes&&(b+="<th>",a.items.length>0&&(b+='<input type="checkbox" id="check_all" name=select_all_checkbox value="true"><input type="hidden" name=select_all_checkbox value="true">'),b+="</th>");for(var c in a.columns){var d=a.columns[c];d.visible&&(b+='<th id="'+d.key+'-header">',b+=d.href?'<a href="'+d.href+'" class="sort-link" sort_key="'+d.key+'">'+d.label+"</a>":d.label,b+='<span class="sort-arrow">'+d.extra+"</span></th>")}return b+="</tr>"},body:function(a){var b="",c=0,d=a.items.length;0==d&&(b+='<tr><td colspan="100"><em>No Items</em></td></tr>',c=1);for(var e in a.items){var f=a.items[e],g=f.encode_id;b+="<tr ",a.current_item_id==f.id&&(b+='class="current"'),b+=">",a.show_item_checkboxes&&(b+='<td style="width: 1.5em;"><input type="checkbox" name="id" value="'+g+'" id="'+g+'" class="grid-row-select-checkbox" /></td>');for(var h in a.columns){var i=a.columns[h];if(i.visible){var j="";i.nowrap&&(j='style="white-space:nowrap;"');var k=f.column_config[i.label],l=k.link,m=k.value,n=k.target;"string"===jQuery.type(m)&&(m=m.replace(/\/\//g,"/"));var o="",p="";i.attach_popup&&(o="grid-"+e+"-popup",p="menubutton",""!=l&&(p+=" split"),p+=" popup"),b+="<td "+j+">",l?(0!=a.operations.length&&(b+='<div id="'+o+'" class="'+p+'" style="float: left;">'),b+='<a class="menubutton-label use-target" target="'+n+'" href="'+l+'" onclick="return false;">'+m+"</a>",0!=a.operations.length&&(b+="</div>")):b+='<div id="'+o+'" class="'+p+'"><label id="'+i.label_id_prefix+g+'" for="'+g+'">'+(m||"")+"</label></div>",b+="</td>"}}b+="</tr>",c++}return b},footer:function(a){var b="";if(a.use_paging&&a.num_pages>1){var c=a.num_page_links,d=a.cur_page_num,e=a.num_pages,f=c/2,g=d-f,h=0;0>=g&&(g=1,h=f-(d-g));var i,j=f+h,k=d+j;e>=k?i=0:(k=e,i=j-(k+1-d)),0!=i&&(g-=i,1>g&&(g=1)),b+='<tr id="page-links-row">',a.show_item_checkboxes&&(b+="<td></td>"),b+='<td colspan="100"><span id="page-link-container">Page:',g>1&&(b+='<span class="page-link" id="page-link-1"><a href="javascript:void(0);" page_num="1" onclick="return false;">1</a></span> ...');for(var l=g;k+1>l;l++)b+=l==a.cur_page_num?'<span class="page-link inactive-link" id="page-link-'+l+'">'+l+"</span>":'<span class="page-link" id="page-link-'+l+'"><a href="javascript:void(0);" onclick="return false;" page_num="'+l+'">'+l+"</a></span>";e>k&&(b+='...<span class="page-link" id="page-link-'+e+'"><a href="javascript:void(0);" onclick="return false;" page_num="'+e+'">'+e+"</a></span>"),b+="</span>",b+='<span class="page-link" id="show-all-link-span"> | <a href="javascript:void(0);" onclick="return false;" page_num="all">Show All</a></span></td></tr>'}if(a.show_item_checkboxes){b+='<tr><input type="hidden" id="operation" name="operation" value=""><td></td><td colspan="100">For <span class="grid-selected-count"></span> selected items: ';for(var m in a.operations){var n=a.operations[m];n.allow_multiple&&(b+='<input type="button" value="'+n.label+'" class="operation-button action-button">&nbsp;')}b+="</td></tr>"}var o=!1;for(m in a.operations)if(a.operations[m].global_operation){o=!0;break}if(o){b+='<tr><td colspan="100">';for(m in a.operations){var n=a.operations[m];n.global_operation&&(b+='<a class="action-button" href="'+n.global_operation+'">'+n.label+"</a>")}b+="</td></tr>"}return a.legend&&(b+='<tr><td colspan="100">'+a.legend+"</td></tr>"),b},message:function(a){var b="success"==a.status?"done":a.status;return'<p><div class="'+b+'message transient-message">'+_.escape(a.message)+'</div><div style="clear: both"></div></p>'},grid_filters:function(a){var b=a.default_filter_dict,c=a.filters,d="none";a.advanced_search&&(d="block");var e=!1;for(var f in a.columns){var g=a.columns[f];if("advanced"==g.filterable){var h=g.key,i=c[h],j=b[h];i&&j&&i!=j&&(d="block"),e=!0}}var k="block";"block"==d&&(k="none");var l='<div id="standard-search" style="display: '+k+';"><table><tr><td style="padding: 0;"><table>';for(var f in a.columns){var g=a.columns[f];"standard"==g.filterable&&(l+=this.grid_column_filter(a,g))}l+="</table></td></tr><tr><td>",e&&(l+='<a href="" class="advanced-search-toggle">Advanced Search</a>'),l+="</td></tr></table></div>",l+='<div id="advanced-search" style="display: '+d+'; margin-top: 5px; border: 1px solid #ccc;"><table><tr><td style="text-align: left" colspan="100"><a href="" class="advanced-search-toggle">Close Advanced Search</a></td></tr>';for(var f in a.columns){var g=a.columns[f];"advanced"==g.filterable&&(l+=this.grid_column_filter(a,g))}return l+="</table></div>"},grid_column_filter:function(a,b){var c=(a.default_filter_dict,a.filters),d=b.label,e=b.key;"advanced"==b.filterable&&(d=d.toLowerCase());var f="<tr>";if("advanced"==b.filterable&&(f+='<td align="left" style="padding-left: 10px">'+d+":</td>"),f+='<td style="padding-bottom: 1px;">',b.is_text){f+='<form class="text-filter-form" column_key="'+e+'" action="'+a.url+'" method="get" >';for(k in a.columns){var g=a.columns[k],h=c[g.key];h&&"All"!=h&&(g.is_text&&(h=JSON.stringify(h)),f+='<input type="hidden" id="'+g.key+'" name="f-'+g.key+'" value="'+h+'"/>')}f+='<span id="'+e+'-filtering-criteria">';var i=c[e];if(i){var j=jQuery.type(i);if("string"==j&&"All"!=i&&(f+=this.filter_element(e,i)),"array"==j)for(var k in i){var l=i[k],m=i;m=m.slice(k),f+=this.filter_element(e,l)}}f+="</span>";var n="";if("standard"==b.filterable){n=b.label.toLowerCase();var o=n.length;20>o&&(o=20),o+=4}f+='<span class="search-box"><input class="search-box-input" id="input-'+e+'-filter" name="f-'+e+'" type="text" placeholder="'+n+'" size="'+o+'"/><button type="submit" style="background: transparent; border: none; padding: 4px; margin: 0px;"><i class="fa fa-search"></i></button></span></form>'}else{f+='<span id="'+e+'-filtering-criteria">';var p=!1;for(var q in a.categorical_filters[e]){var r=a.categorical_filters[e][q],s="",t="";for(var u in r)s=u,t=r[u];p&&(f+=" | "),p=!0;var l=c[e];f+=l&&r[e]&&l==t?'<span class="categorical-filter '+e+'-filter current-filter">'+q+"</span>":'<span class="categorical-filter '+e+'-filter"><a href="javascript:void(0);" filter_key="'+s+'" filter_val="'+t+'">'+q+"</a></span>"}f+="</span>"}return f+="</td></tr>"},filter_element:function(b,c){return c=a.sanitize(c),'<span class="text-filter-val">'+c+'<a href="javascript:void(0);" filter_key="'+b+'" filter_val="'+c+'"><i class="fa fa-times" style="padding-left: 5px; padding-bottom: 6px;"/></a></span>'}}});
//# sourceMappingURL=../../../maps/mvc/grid/grid-template.js.map