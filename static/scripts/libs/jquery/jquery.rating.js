window.jQuery&&function(a){if(!a.support.opacity&&!a.support.style)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(b){}a.fn.rating=function(b){if(0==this.length)return this;if("string"==typeof arguments[0]){if(this.length>1){var c=arguments;return this.each(function(){a.fn.rating.apply(a(this),c)})}return a.fn.rating[arguments[0]].apply(this,a.makeArray(arguments).slice(1)||[]),this}var b=a.extend({},a.fn.rating.options,b||{});return a.fn.rating.calls++,this.not(".star-rating-applied").addClass("star-rating-applied").each(function(){var c,d=a(this),e=(this.name||"unnamed-rating").replace(/\[|\]/g,"_").replace(/^\_+|\_+$/g,""),f=a(this.form||document.body),g=f.data("rating");g&&g.call==a.fn.rating.calls||(g={count:0,call:a.fn.rating.calls});var h=g[e]||f.data("rating"+e);h&&(c=h.data("rating")),h&&c?c.count++:(c=a.extend({},b||{},(a.metadata?d.metadata():a.meta?d.data():null)||{},{count:0,stars:[],inputs:[]}),c.serial=g.count++,h=a('<span class="star-rating-control"/>'),d.before(h),h.addClass("rating-to-be-drawn"),(d.attr("disabled")||d.hasClass("disabled"))&&(c.readOnly=!0),d.hasClass("required")&&(c.required=!0),h.append(c.cancel=a('<div class="rating-cancel"><a title="'+c.cancel+'">'+c.cancelValue+"</a></div>").on("mouseover",function(){a(this).rating("drain"),a(this).addClass("star-rating-hover")}).on("mouseout",function(){a(this).rating("draw"),a(this).removeClass("star-rating-hover")}).on("click",function(){a(this).rating("select")}).data("rating",c)));var i=a('<div role="text" aria-label="'+this.title+'" class="star-rating rater-'+c.serial+'"><a title="'+(this.title||this.value)+'">'+this.value+"</a></div>");if(h.append(i),this.id&&i.attr("id",this.id),this.className&&i.addClass(this.className),c.half&&(c.split=2),"number"==typeof c.split&&c.split>0){var j=(a.fn.width?i.width():0)||c.starWidth,k=c.count%c.split,l=Math.floor(j/c.split);i.width(l).find("a").css({"margin-left":"-"+k*l+"px"})}c.readOnly?i.addClass("star-rating-readonly"):i.addClass("star-rating-live").on("mouseover",function(){a(this).rating("fill"),a(this).rating("focus")}).on("mouseout",function(){a(this).rating("draw"),a(this).rating("blur")}).on("click",function(){a(this).rating("select")}),this.checked&&(c.current=i),"A"==this.nodeName&&a(this).hasClass("selected")&&(c.current=i),d.hide(),d.on("change.rating",function(b){return b.selfTriggered?!1:void a(this).rating("select")}),i.data("rating.input",d.data("rating.star",i)),c.stars[c.stars.length]=i[0],c.inputs[c.inputs.length]=d[0],c.rater=g[e]=h,c.context=f,d.data("rating",c),h.data("rating",c),i.data("rating",c),f.data("rating",g),f.data("rating"+e,h)}),a(".rating-to-be-drawn").rating("draw").removeClass("rating-to-be-drawn"),this},a.extend(a.fn.rating,{calls:0,focus:function(){var b=this.data("rating");if(!b)return this;if(!b.focus)return this;var c=a(this).data("rating.input")||a("INPUT"==this.tagName?this:null);b.focus&&b.focus.apply(c[0],[c.val(),a("a",c.data("rating.star"))[0]])},blur:function(){var b=this.data("rating");if(!b)return this;if(!b.blur)return this;var c=a(this).data("rating.input")||a("INPUT"==this.tagName?this:null);b.blur&&b.blur.apply(c[0],[c.val(),a("a",c.data("rating.star"))[0]])},fill:function(){var a=this.data("rating");return a?void(a.readOnly||(this.rating("drain"),this.prevAll().addBack().filter(".rater-"+a.serial).addClass("star-rating-hover"))):this},drain:function(){var a=this.data("rating");return a?void(a.readOnly||a.rater.children().filter(".rater-"+a.serial).removeClass("star-rating-on").removeClass("star-rating-hover")):this},draw:function(){var b=this.data("rating");if(!b)return this;this.rating("drain");var c=a(b.current),d=c.length?c.prevAll().addBack().filter(".rater-"+b.serial):null;d&&d.addClass("star-rating-on"),b.cancel[b.readOnly||b.required?"hide":"show"](),this.siblings()[b.readOnly?"addClass":"removeClass"]("star-rating-readonly")},select:function(b,c){var d=this.data("rating");if(!d)return this;if(!d.readOnly){if(d.current=null,"undefined"!=typeof b||this.length>1){if("number"==typeof b)return a(d.stars[b]).rating("select",void 0,c);if("string"==typeof b)return a.each(d.stars,function(){a(this).data("rating.input").val()==b&&a(this).rating("select",void 0,c)}),this}else d.current="INPUT"==this[0].tagName?this.data("rating.star"):this.is(".rater-"+d.serial)?this:null;this.data("rating",d),this.rating("draw");var e=a(d.current?d.current.data("rating.input"):null),f=a(d.inputs).filter(":checked"),g=a(d.inputs).not(e);return g.prop("checked",!1),e.prop("checked",!0),a(e.length?e:f).trigger({type:"change",selfTriggered:!0}),(c||void 0==c)&&d.callback&&d.callback.apply(e[0],[e.val(),a("a",d.current)[0]]),this}},readOnly:function(b,c){var d=this.data("rating");return d?(d.readOnly=b||void 0==b?!0:!1,c?a(d.inputs).attr("disabled","disabled"):a(d.inputs).removeAttr("disabled"),this.data("rating",d),void this.rating("draw")):this},disable:function(){this.rating("readOnly",!0,!0)},enable:function(){this.rating("readOnly",!1,!1)}}),a.fn.rating.options={cancel:"Cancel Rating",cancelValue:"",split:0,starWidth:16},a(function(){a("input[type=radio].star").rating()})}(jQuery);
//# sourceMappingURL=../../../maps/libs/jquery/jquery.rating.js.map