!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):b(a.jQuery)}(this,function(a){var b=a.ajaxSettings;b.responseFields.native="responseNative",b.converters["* native"]=!0;var c={},d=0,e={0:200,1223:204},f={},g=jQuery.ajaxSettings.xhr();window.ActiveXObject&&a(window).on("unload",function(){for(var a in f)f[a]()}),c.cors=!!g&&"withCredentials"in g,c.ajax=g=!!g,a.ajaxTransport("native",function(a){var b;return c.cors||g&&!a.crossDomain?{send:function(c,g){var h,i=a.xhr(),j=++d,k={};if(i.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(h in a.xhrFields)i[h]=a.xhrFields[h];a.mimeType&&i.overrideMimeType&&i.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(h in c)i.setRequestHeader(h,c[h]);b=function(a){return function(){b&&(delete f[j],b=i.onload=i.onerror=null,"abort"===a?i.abort():"error"===a?g(i.status,i.statusText):(i.response&&(k.native=i.response),g(e[i.status]||i.status,i.statusText,k,i.getAllResponseHeaders())))}},i.onload=b(),i.onerror=b("error"),b=f[j]=b("abort");try{i.send(a.hasContent&&a.data||null)}catch(l){if(b)throw l}},abort:function(){b&&b()}}:void 0}),a.getNative=function(b,c){return a.ajax({dataType:"native",url:b,xhrFields:{responseType:"arraybuffer"},success:c})}});
//# sourceMappingURL=../../../maps/libs/bbi/jquery-ajax-native.js.map