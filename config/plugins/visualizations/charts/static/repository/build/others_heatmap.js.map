{"version":3,"sources":["webpack:///others_heatmap.js","webpack:///webpack/bootstrap e3622d0033a89edad914?63f1*********************","webpack:///./static/repository/visualizations/others/heatmap/wrapper.js","webpack:///./static/repository/utilities/utils.js?825c*******************","webpack:///./static/repository/visualizations/utilities/tabular-utilities.js?ccb0*****************","webpack:///./static/repository/visualizations/utilities/tabular-datasets.js?bf7b*******************","webpack:///./static/repository/visualizations/others/heatmap/heatmap-parameters.js?2f68","webpack:///./static/repository/visualizations/others/heatmap/heatmap-plugin.js?b8cf"],"names":["define","modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","0","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","Utilities","HeatMap","Backbone","View","extend","initialize","options","render","canvas_id","groups","chart","panelHelper","apply","undefined","1","clone","obj","JSON","parse","stringify","isJSON","text","test","replace","get","top","__utils__get__","cache_key","cache","success","window","console","debug","url","request","data","response","error","ajaxConfig","contentType","type","$","isEmptyObject","indexOf","param","dataType","ajax","done","jQuery","parseJSON","e","fail","response_text","responseText","always","complete","merge","optionsDefault","_","defaults","uid","__utils__uid__","4","Utils","Datasets","buildJobDictionary","settings_string","columns_string","group_index","key","settings","attributes","settings_value","each","pair","RegExp","substring","length","group","data_columns","name","parseInt","tool_id","inputs","input","src","columns","process","targets","dataset_id","dataset_groups","result","valid","state","resolve","err","reject","getDomains","keys","_apply","operator","value","value_sub","d3","values","d","Math","index","min","max","makeSeries","plot_data","value_index","point","key_index","column_index","push","makeCategories","column_keys","array","__data_columns","is_label","value_dict","String","mapCategories","i","makeUniqueCategories","with_index","categories","counter","column_def","j","makeTickFormat","precision","formatter","d3format","prefix","formatPrefix","scale","toFixed","symbol","format","label","isNaN","addZoom","fixDomain","domain","boundary","scaleExtent","zoomed","yDomain","yScale","y_boundary","xDomain","xScale","x_boundary","redraw","unzoomed","d3zoom","translate","yAxis","xAxis","svg","slice","behavior","zoom","nice","x","y","on","5","_cache","column_list","column_name","column","block_id","_block_id","_fillFromCache","Galaxy","root","data_type","provider","indeces","toString","results","Array","row","v","limit","column_data","dict","38","colorSets","seis","reverse","sealand","redgreen","ocean","cool","copper","gray","hot","jet","no_green","polar","red2green","relief","split","wysiwyg","39","HeatmapParameters","margin","right","bottom","left","style","font-weight","font-family","font-size","legend","width","size","background_color","debug_color","self","this","color_set","linear","zMin","z","zMax","zScale","quantize","range","axis","orient","_makeTickFormat","tooltip","select","append","attr","container","empty","xTickStart","ceil","xTickEnd","floor","yTickStart","yTickEnd","tickValues","height","rowCount","colCount","boxWidth","boxHeight","_buildBoxes","_buildX","_buildY","_buildLegend","_locator","_color","chartBody","boxes","selectAll","gEnter","enter","trim","event","stopPropagation","xLabel","yLabel","open","html","_templateTooltip","pageY","exit","remove","font_size","gxAxis","xFontSize","getBBox","gxAxisLabel","gxTickLabel","gyAxis","yFontSize","gyAxisLabel","legendSize","legendWidth","legendElements","legendElementHeight","legendHeight","substr","tickFormat","_handleError"],"mappings":"AAAAA,OAAO,WAAa,MAAgB,UAAUC,GCI9C,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,GAGAV,EAAA,KDMMW,EACA,SAASP,EAAQD,EAASH,GAE/B,GAAIY,GAA8BC,CE/CnCD,IAAAZ,EAAA,GAAAA,EAAA,KAAAa,EAAA,SAAAC,EAAAC,GACA,MAAAC,UAAAC,KAAAC,QACAC,WAAA,SAAAC,GACAA,EAAAC,OAAA,SAAAC,EAAAC,GAMA,MALA,IAAAR,IACAS,MAAAJ,EAAAI,MACAF,YACAC,YAEA,GAEAT,EAAAW,YAAAL,OAGCM,MAAAvB,EAAAS,KAAAe,SAAAd,IAAAT,EAAAD,QAAAU,KFmDKe,EACA,SAASxB,EAAQD,EAASH,GGlEhC,GAAAY,GAAAC,CACAD,MAAAC,EAAA,WAGA,QAAAgB,GAAAC,GACA,MAAAC,MAAAC,MAAAD,KAAAE,UAAAH,IAAA,MAOA,QAAAI,GAAAC,GACA,sBAAwBC,KAAAD,EAAAE,QAAA,wBACxBA,QAAA,wEACAA,QAAA,4BAUA,QAAAC,GAAAlB,GACAmB,IAAAC,eAAAD,IAAAC,kBACA,IAAAC,GAAAV,KAAAE,UAAAb,EACAA,GAAAsB,OAAAH,IAAAC,eAAAC,IACArB,EAAAuB,SAAAvB,EAAAuB,QAAAJ,IAAAC,eAAAC,IACAG,OAAAC,QAAAC,MAAA,0CAAA1B,EAAA2B,IAAA,OAEAC,GACAD,IAAA3B,EAAA2B,IACAE,KAAA7B,EAAA6B,KACAN,QAAA,SAAAO,GACAX,IAAAC,eAAAC,GAAAS,EACA9B,EAAAuB,SAAAvB,EAAAuB,QAAAO,IAEAC,MAAA,SAAAD,GACA9B,EAAA+B,OAAA/B,EAAA+B,MAAAD,MAcA,QAAAF,GAAA5B,GACA,GAAAgC,IACAC,YAAA,mBACAC,KAAAlC,EAAAkC,MAAA,MACAL,KAAA7B,EAAA6B,SACAF,IAAA3B,EAAA2B,IAEA,QAAAK,EAAAE,MAAA,UAAAF,EAAAE,MACAC,EAAAC,cAAAJ,EAAAH,QACAG,EAAAL,KAAAK,EAAAL,IAAAU,QAAA,iBACAL,EAAAL,KAAAQ,EAAAG,MAAAN,EAAAH,MAAA,IAEAG,EAAAH,KAAA,OAEAG,EAAAO,SAAA,OACAP,EAAAL,IAAAK,EAAAL,IACAK,EAAAH,KAAAlB,KAAAE,UAAAmB,EAAAH,OAEAM,EAAAK,KAAAR,GAAAS,KAAA,SAAAX,GACA,mBAAAA,IAAAhB,EAAAgB,GACA,IACAA,IAAAb,QAAA,2BACAa,EAAAY,OAAAC,UAAAb,GACiB,MAAAc,GACjBnB,QAAAC,MAAAkB,GAGA5C,EAAAuB,SAAAvB,EAAAuB,QAAAO,KACSe,KAAA,SAAAf,GACT,GAAAgB,GAAA,IACA,KACAA,EAAAJ,OAAAC,UAAAb,EAAAiB,cACa,MAAAH,GACbE,EAAAhB,EAAAiB,aAEA/C,EAAA+B,OAAA/B,EAAA+B,MAAAe,EAAAhB,KACSkB,OAAA,WACThD,EAAAiD,UAAAjD,EAAAiD,aASA,QAAAC,GAAAlD,EAAAmD,GACA,MAAAnD,GACAoD,EAAAC,SAAArD,EAAAmD,GAEAA,EAKA,QAAAG,KAEA,MADAnC,KAAAoC,eAAApC,IAAAoC,gBAAA,EACA,OAAApC,IAAAoC,iBAGA,OACArC,MACAgC,QACAI,MACA1B,UACAnB,QACAK,WAECR,MAAAvB,EAAAS,KAAAe,SAAAd,IAAAT,EAAAD,QAAAU,KHwEK+D,EACA,SAASxE,EAAQD,EAASH,GAE/B,GAAIY,GAA8BC,CIrMnCD,IAAAZ,EAAA,GAAAA,EAAA,IAAAa,EAAA,SAAAgE,EAAAC,GAEA,QAAAC,GAAAvD,EAAApB,GACA,GAAA4E,GAAA,GACAC,EAAA,GACAC,EAAA,CACA,KAAAC,MAAA3D,GAAA4D,SAAAC,WAAA,CACA,GAAAC,GAAA9D,EAAA4D,SAAA9C,IAAA6C,IACAX,GAAAe,OAAA,cAAmC,cAAkB,cAAkB,SAAAC,GACvEF,IAAAjD,QAAA,GAAAoD,QAAAD,EAAA,QAAAA,EAAA,MAEAR,GAAAG,IAAA,IAAAG,EAAA,KAUA,MARAN,KAAAU,UAAA,EAAAV,EAAAW,OAAA,GACAnE,EAAAD,OAAAgE,KAAA,SAAAK,GACAV,IACAV,EAAAe,KAAAK,EAAAtD,IAAA,2BAAAuD,EAAAC,GACAb,GAAAa,EAAA,IAAAZ,EAAA,KAAAa,SAAAH,EAAAtD,IAAAwD,IAAA,YAGAb,IAAAS,UAAA,EAAAT,EAAAU,OAAA,IAEAK,QAAA,SACAC,QACAC,OACA7F,GAAAmB,EAAAc,IAAA,cACA6D,IAAA,OAEA/F,SACAgG,QAAAnB,EACAG,SAAAJ,IAMA,QAAAvD,GAAAL,GACA,GACAiF,GAAAjF,EAAAiF,QACA7E,EAAAJ,EAAAI,MACAH,EAAAD,EAAAC,OACAiF,EAAAlF,EAAAkF,QACAC,EAAAnF,EAAAmF,YAAAnF,EAAAI,MAAAc,IAAA,cACAkE,EAAApF,EAAAoF,gBAAApF,EAAAI,MAAAD,MACAuD,GAAA9B,SACAxB,QACA+E,aACAC,iBACA7D,QAAA,SAAA8D,GACA,IACA,GAAAH,EAAAX,QAAAc,EAAAd,OAAA,CACA,GAAAe,IAAA,CACA,QAAAxB,KAAAuB,GAAA,CACA,GAAAb,GAAAa,EAAAvB,EACA,KAAA7D,EAAAiF,EAAApB,IAAAU,IAAA,CACAc,GAAA,CACA,QAGAA,GACAlF,EAAAmF,MAAA,qCAEqB,IAAAL,EAAAX,OACrBtE,EAAAiF,EAAA,GAAAG,IACAjF,EAAAmF,MAAA,qBAGAnF,EAAAmF,MAAA,gCAEAN,GAAAO,UACiB,MAAAC,GACjBhE,QAAAC,MAAA,8CAAA+D,GACArF,EAAAmF,MAAA,SAAAE,GACAR,EAAAS,aAOA,QAAAC,GAAAxF,EAAAyF,GACA,QAAAC,GAAAC,EAAA/B,GACA,GAAAgC,GAAAxF,MACA,QAAAuD,KAAA3D,GAAA,CACA,GAAA6F,GAAAC,GAAAH,GAAA3F,EAAA2D,GAAAoC,OAAA,SAAAC,GAA6F,MAAAA,GAAApC,IAC7FgC,GAAAxF,SAAAwF,EAAAC,EAAAI,KAAAN,GAAAC,EAAAC,GAEA,MAAAD,GAEA,GAAAV,KACA,QAAAgB,KAAAT,GAAA,CACA,GAAA7B,GAAA6B,EAAAS,EACAhB,GAAAtB,IACAuC,IAAAT,EAAA,MAAA9B,GACAwC,IAAAV,EAAA,MAAA9B,IAIA,MAAAsB,GAIA,QAAAmB,GAAArG,EAAAyF,GACA,GAAAa,KACA,QAAA3C,KAAA3D,GAAA,CACA,GAAAqE,GAAArE,EAAA2D,GACAjC,IACA,QAAA6E,KAAAlC,GAAA0B,OAAA,CACA,GAAAS,KACA,IAAAf,EACA,OAAAgB,KAAAhB,GAAA,CACA,GAAAiB,GAAAjB,EAAAgB,EACAD,GAAAG,KAAAtC,EAAA0B,OAAAQ,GAAAG,QAGA,QAAAA,KAAArC,GAAA0B,OAAAQ,GACAC,EAAAG,KAAAtC,EAAA0B,OAAAQ,GAAAG,GAGAhF,GAAAiF,KAAAH,GAEAF,EAAAK,KAAAjF,GAEA,MAAA4E,GAIA,QAAAM,GAAA5G,EAAA6G,GACA,GAAAC,MACAxC,EAAAtE,EAAA,GAAA+G,cAcA,OAbA9D,GAAAe,KAAA6C,EAAA,SAAAjD,GACAU,EAAAV,GAAAoD,WACAF,EAAAlD,SAGA5D,KAAA,IACAiD,EAAAe,KAAAhE,EAAA,GAAA+F,OAAA,SAAAkB,GACA,OAAArD,KAAAkD,GACAA,EAAAlD,GAAA+C,KAAAO,OAAAD,EAAArD,OAIAuD,EAAAL,EAAA9G,IACgB8G,SAIhB,QAAAK,GAAAL,EAAA9G,GACAiD,EAAAe,KAAAhE,EAAA,SAAAqE,GACApB,EAAAe,KAAAK,EAAA0B,OAAA,SAAAkB,EAAAG,GACA,OAAAxD,KAAAkD,GACAG,EAAArD,GAAAY,SAAA4C,OAOA,QAAAC,GAAArH,EAAAsH,GACA,GAAAC,MACAT,KACAU,KACAlD,EAAAtE,EAAA,GAAA+G,cACA9D,GAAAe,KAAAM,EAAA,SAAAmD,EAAA7D,GACA6D,EAAAT,WACAO,EAAA3D,MACAkD,EAAAlD,MACA4D,EAAA5D,GAAA,IAIA,QAAAwD,KAAApH,GAAA,CACA,GAAAqE,GAAArE,EAAAoH,EACA,QAAAM,KAAArD,GAAA0B,OAAA,CACA,GAAAkB,GAAA5C,EAAA0B,OAAA2B,EACA,QAAA9D,KAAA2D,GAAA,CACA,GAAA3B,GAAAsB,OAAAD,EAAArD,GACAxD,UAAAmH,EAAA3D,GAAAgC,KACA2B,EAAA3D,GAAAgC,GAAA4B,EAAA5D,GACAkD,EAAAlD,GAAA+C,KAAAW,GAAAE,EAAA5D,GAAAgC,MACA4B,EAAA5D,QAMA,OAAAwD,KAAApH,GAAA,CACA,GAAAqE,GAAArE,EAAAoH,EACA,QAAAM,KAAArD,GAAA0B,OAAA,CACA,GAAAkB,GAAA5C,EAAA0B,OAAA2B,EACA,QAAA9D,KAAA2D,GAAA,CACA,GAAA3B,GAAAsB,OAAAD,EAAArD,GACAqD,GAAArD,GAAA2D,EAAA3D,GAAAgC,KAIA,OACA2B,aACAT,QACAU,WAKA,QAAAG,GAAA9H,GACA,GAAAkC,GAAAlC,EAAAkC,KACA6F,EAAA/H,EAAA+H,UACAL,EAAA1H,EAAA0H,WACAM,EAAAhI,EAAAgI,SACA,YAAA9F,EACA8F,EAAA,WAAmC,eAC1B,YAAA9F,EACTwF,GACAM,EAAA,SAAAjC,GAA8C,MAAA2B,GAAA3B,IAAA,SAErC,CACT,GAAAkC,GAAA,SAAA9B,GACA,OAAAjE,GACA,QACA,GAAAgG,GAAAjC,GAAAkC,aAAAhC,EACA,OAAA+B,GAAAE,MAAAjC,GAAAkC,UAAAH,EAAAI,MACA,SACA,MAAArC,IAAAsC,OAAA,IAAAR,EAAA7F,GAAAiE,IAIA6B,GADAN,EACA,SAAA3B,GACA,GAAAyC,GAAAd,EAAA3B,EACA,KAAAyC,EAWA,QAVA,IAAAC,MAAAD,GACA,MAAAA,EAEA,KACA,MAAAP,GAAAO,GAC6B,MAAA/C,GAC7B,MAAA+C,KAQA,SAAAzC,GAA8C,MAAAkC,GAAAlC,MAM9C,QAAA2C,GAAA1I,GAeA,QAAA2I,GAAAC,EAAAC,GAGA,MAFAD,GAAA,GAAAxC,KAAAE,IAAAF,KAAAG,IAAAqC,EAAA,GAAAC,EAAA,IAAAA,EAAA,GAAAA,EAAA,GAAAC,GACAF,EAAA,GAAAxC,KAAAG,IAAAsC,EAAA,GAAAA,EAAA,GAAAC,EAAA1C,KAAAE,IAAAsC,EAAA,GAAAC,EAAA,KACAD,EAEA,QAAAG,KACAC,EAAAL,EAAAM,EAAAL,SAAAM,IACAC,EAAAR,EAAAS,EAAAR,SAAAS,IACAC,IAEA,QAAAC,KACAJ,EAAAE,GACAL,EAAAE,GACAI,IACAE,EAAApB,MAAA,GACAoB,EAAAC,WAAA,MA7BA,GAAAX,GAAA,IACAY,EAAA1J,EAAA0J,MACAC,EAAA3J,EAAA2J,MACAR,EAAAnJ,EAAAmJ,SAAAQ,EAAAvB,QAAAQ,OACAI,EAAAhJ,EAAAgJ,SAAAU,EAAAtB,QAAAQ,OACAU,EAAAtJ,EAAAsJ,OACAM,EAAA5J,EAAA4J,IACAR,EAAAO,EAAAvB,QACAa,EAAAS,EAAAtB,QACAiB,EAAAD,EAAAR,SAAAiB,QACAX,EAAAD,EAAAL,SAAAiB,QACAL,EAAAvD,GAAA6D,SAAAC,MAyBA,OAxBAX,GAAAY,OACAf,EAAAe,OAkBAR,EAAAS,EAAAb,GACAc,EAAAjB,GACAH,aAAA,EAAAA,IACAqB,GAAA,OAAApB,GACAa,EAAAzK,KAAAqK,GAAAW,GAAA,gBAAAZ,GACAC,EAGA,OACA7F,qBACAtD,cACA0G,iBACAS,uBACAhB,aACAb,aACA2B,gBACAQ,iBACAY,YAGCpI,MAAAvB,EAAAS,KAAAe,SAAAd,IAAAT,EAAAD,QAAAU,KJ0MK2K,EACA,SAASpL,EAAQD,EAASH,GKxfhC,GAAAY,GAAAC,CACAD,IAAAZ,EAAA,IAAAa,EAAA,SAAAgE,GAEA,GAAA4G,MACAzI,EAAA,SAAA5B,GACA,GAAAG,GAAAH,EAAAoF,eACAD,EAAAnF,EAAAmF,WAEAmF,IAUA,OATAnK,GAAAgE,KAAA,SAAAK,GACApB,EAAAe,KAAAK,EAAAtD,IAAA,2BAAA0G,EAAA2C,GACA,GAAAC,GAAAhG,EAAAtD,IAAAqJ,GACAE,EAAAC,EAAAvF,EAAAqF,EACAF,GAAAjI,QAAAmI,SAAAH,EAAAI,IAAA,QAAAD,GAAA,QAAAA,GAAAjK,SAAAiK,GACAF,EAAAxD,KAAA0D,OAIA,GAAAF,EAAA/F,WACAoG,GAAA3K,OAIAyD,GAAAvC,KACAS,IAAAiJ,OAAAC,KAAA,gBAAA1F,EACAtD,MACAiJ,UAAA,WACAC,SAAA,iBACAC,QAAAV,EAAAW,YAEA1J,QAAA,SAAAO,GAEA,OADAoJ,GAAA,GAAAC,OAAAb,EAAA/F,QACAgD,EAAA,EAAgCA,EAAA2D,EAAA3G,OAAoBgD,IACpD2D,EAAA3D,KAEA,QAAAA,KAAAzF,GAAAD,KAAA,CACA,GAAAuJ,GAAAtJ,EAAAD,KAAA0F,EACA,QAAAM,KAAAuD,GAAA,CACA,GAAAC,GAAAD,EAAAvD,EACAtH,UAAA8K,GAAA,YAAAA,GACAH,EAAArD,GAAAf,KAAAuE,IAIA5J,QAAAC,MAAA,kDACA,QAAA6F,KAAA2D,GAAA,CACA,GAAAV,GAAAF,EAAA/C,GACAkD,EAAAC,EAAAvF,EAAAqF,EACAH,GAAAI,GAAAS,EAAA3D,GAEAoD,EAAA3K,OAMA2K,EAAA,SAAA3K,GACA,GAAAG,GAAAH,EAAAoF,eACAD,EAAAnF,EAAAmF,UACA1D,SAAAC,MAAA,mEACA,IAAA4J,GAAA,CACAnL,GAAAgE,KAAA,SAAAK,GACApB,EAAAe,KAAAK,EAAAtD,IAAA,2BAAA0G,EAAA2C,GACA,GAAAC,GAAAhG,EAAAtD,IAAAqJ,GACAE,EAAAC,EAAAvF,EAAAqF,GACAe,EAAAlB,EAAAI,EACAc,KACAD,EAAAlF,KAAAG,IAAA+E,EAAAC,EAAAhH,aAIA,GAAA+G,GACA7J,QAAAC,MAAA,0DAEA,IAAAwJ,KACA/K,GAAAgE,KAAA,SAAAK,EAAAV,GAEA,OADA0H,GAAA/H,EAAAP,OAAqCa,IAAA,MAAAS,EAAAtD,IAAA,OAAAgF,WAA8D1B,EAAAP,YACnG4D,EAAA,EAA4BA,EAAAyD,EAAWzD,IACvC2D,EAAAtF,OAAA2B,IAAoCoC,EAAAtF,SAAAkD,GAEpCqD,GAAApE,KAAA0E,KAEArL,EAAAgE,KAAA,SAAAK,EAAAV,GACA,GAAAoC,GAAAgF,EAAApH,GAAAoC,MACA9C,GAAAe,KAAAK,EAAAtD,IAAA,2BAAA0G,EAAA2C,GACA,GAAAC,GAAAhG,EAAAtD,IAAAqJ,EACA,QAAAC,GACA,WACA,OAAA3C,GAAA,EAAwCA,EAAAyD,EAAWzD,IACnD3B,EAAA2B,GAAA0C,GAAA5F,SAAAkD,EAEA,MACA,YACA,OAAAA,GAAA,EAAwCA,EAAAyD,EAAWzD,IACnD3B,EAAA2B,GAAA0C,GAAA,CAEA,MACA,SAGA,OAFAE,GAAAC,EAAAvF,EAAAqF,GACAe,EAAAlB,EAAAI,GACA5C,EAAA,EAAwCA,EAAAyD,EAAWzD,IAAA,CACnD,GAAA9B,GAAAG,EAAA2B,GACAwD,EAAAE,EAAA1D,EACAY,OAAA4C,KAAAzD,EAAAT,WACAkE,EAAA,GAEAtF,EAAAwE,GAAAc,QAKArL,EAAAuB,QAAA2J,IAIAR,EAAA,SAAAvF,EAAAqF,GACA,MAAArF,GAAA,KAAAqF,EAGA,QAAY5I,YACXtB,MAAAvB,EAAAS,KAAAe,SAAAd,IAAAT,EAAAD,QAAAU,KL8fKgM,GACA,SAASzM,EAAQD,EAASH,GAE/B,GAAIY,GAA8BC,CMznBnCD,MAAAC,EAAA,WACA,OACAiM,WACAC,MAAA,yMAAAC,UAEAC,SAAA,yMAAAD,UAEAE,UAAA,mNAEAC,OAAA,yMAAAH,UAEAI,MAAA,yMAEAC,QAAA,yMAAAL,UAEAM,MAAA,yMAAAN,UAEAO,KAAA,yMAAAP,UAEAQ,KAAA,yMAEAC,UAAA,yMAEAC,OAAA,yMAEAC,WAAA,yMAAAX,UAEAY,QAAA,yMAAAZ,UAEAa,OAAA,yMAEAC,SAAA,yMAAAd,aAGCtL,MAAAvB,EAAAS,KAAAe,SAAAd,IAAAT,EAAAD,QAAAU,KN6nBKkN,GACA,SAAS3N,EAAQD,EAASH,GAE/B,GAAIY,GAA8BC,COlqBnCD,IAAAZ,EAAA,GAAAA,EAAA,GAAAA,EAAA,KAAAa,EAAA,SAAAC,EAAA+D,EAAAmJ,GACA,MAAAhN,UAAAC,KAAAC,QACAqD,gBACA0J,QACA1L,IAAA,GACA2L,MAAA,GACAC,OAAA,GACAC,KAAA,IAEAC,OACAC,cAAA,SACAC,cAAA,UACAC,YAAA,IAEAC,QACAC,MAAA,GACAC,KAAA,GACAN,OACAC,cAAA,SACAC,cAAA,UACAC,YAAA,IAEA9B,MAAA,GAEAkC,iBAAA,UACAC,YAAA,WAGA1N,WAAA,SAAAC,GACA,GAAA0N,GAAAC,IACAA,MAAAvN,MAAAJ,EAAAI,MACAuN,KAAAzN,UAAAF,EAAAE,UACAyN,KAAAnJ,MAAAxE,EAAAG,OAAA,GACAwN,KAAA9L,KAAA7B,EAAAG,OAAA,GAAA+F,OACAyH,KAAA3N,QAAAyD,EAAAP,MAAAyK,KAAAxK,eAAAnD,GAGA2N,KAAAC,UAAAhB,EAAAlB,UAAAiC,KAAAvN,MAAA4D,SAAA9C,IAAA,cAGAyM,KAAAjG,WAAAhI,EAAA8H,sBAAAmG,KAAAnJ,QAGAmJ,KAAAvE,OAAAnD,GAAAmC,MAAAyF,SAAAjF,QAAA,EAAA+E,KAAAjG,WAAAT,MAAAgD,EAAA1F,SACAoJ,KAAA1E,OAAAhD,GAAAmC,MAAAyF,SAAAjF,QAAA,EAAA+E,KAAAjG,WAAAT,MAAAiD,EAAA3F,SAGAoJ,KAAAG,KAAA7H,GAAAK,IAAAqH,KAAA9L,KAAA,SAAAsE,GAA0D,MAAAA,GAAA4H,IAC1DJ,KAAAK,KAAA/H,GAAAM,IAAAoH,KAAA9L,KAAA,SAAAsE,GAA0D,MAAAA,GAAA4H,IAC1DJ,KAAAM,OAAAhI,GAAAmC,MAAA8F,WAAAtF,QAAA+E,KAAAG,KAAAH,KAAAK,OAAAG,MAAAR,KAAAC,WAGAD,KAAAhE,MAAA1D,GAAA2D,IAAAwE,OAAAhG,MAAAuF,KAAAvE,QAAAiF,OAAA,UACAV,KAAAjE,MAAAzD,GAAA2D,IAAAwE,OAAAhG,MAAAuF,KAAA1E,QAAAoF,OAAA,QAGAV,KAAAW,gBAAA,KACAX,KAAAW,gBAAA,KAGAX,KAAAY,QAAAtI,GAAAuI,OAAA,8BAAAC,OAAA,OACAC,KAAA,0BACAzB,MAAAU,KAAA3N,QAAAiN,OACAA,MAAA,aAGA9K,EAAAX,QAAA2I,GAAA,oBAAmDuD,EAAApE,WACnDqE,KAAArE,SACA5J,EAAAgJ,SACAiB,MAAAgE,KAAAhE,MACAD,MAAAiE,KAAAjE,MACAJ,OAAA,WAA0CoE,EAAApE,UAC1CM,IAAA3D,GAAAuI,OAAA,IAAAb,KAAAzN,cAKAoJ,OAAA,WAEA,GACAzH,IADA8L,KAAAvN,MACAuN,KAAA9L,KAEA8L,MAAA9L,MAGA,IAAA8M,GAAAxM,EAAA,IAAAwL,KAAAzN,UACAyO,GAAAC,OAGA,IAAAzF,GAAAwE,KAAAvE,OAAAR,SACAI,EAAA2E,KAAA1E,OAAAL,SAGAiG,EAAAzI,KAAA0I,KAAA3F,EAAA,IACA4F,EAAA3I,KAAA4I,MAAA7F,EAAA,IACA8F,EAAA7I,KAAA0I,KAAA9F,EAAA,IACAkG,EAAA9I,KAAA4I,MAAAhG,EAAA,GACA2E,MAAAhE,MAAAwF,WAAAlJ,GAAAkI,MAAAU,EAAAE,EAAA,IACApB,KAAAjE,MAAAyF,WAAAlJ,GAAAkI,MAAAc,EAAAC,EAAA,GAGA,IAAArC,GAAAc,KAAA3N,QAAA6M,MAGAc,MAAAyB,OAAAzK,SAAAgK,EAAAS,UAAAvC,EAAA1L,IAAA0L,EAAAE,OACAY,KAAAL,MAAA3I,SAAAgK,EAAArB,SAAAT,EAAAG,KAAAH,EAAAC,MAGAa,KAAAvE,OAAA+E,OAAA,EAAAR,KAAAL,QACAK,KAAA1E,OAAAkF,OAAAR,KAAAyB,OAAA,IAGAzB,KAAA0B,SAAArG,EAAA,GAAAA,EAAA,GACA2E,KAAA2B,SAAAnG,EAAA,GAAAA,EAAA,GACAwE,KAAA4B,SAAAnJ,KAAAG,IAAA,EAAAH,KAAA4I,MAAArB,KAAAL,MAAAK,KAAA2B,WACA3B,KAAA6B,UAAApJ,KAAAG,IAAA,EAAAH,KAAA4I,MAAArB,KAAAyB,OAAAzB,KAAA0B,UAGA1B,MAAA/D,IAAA3D,GAAAuI,OAAA,IAAAb,KAAAzN,WACAuO,OAAA,KACAC,KAAA,mBACAA,KAAA,yBAAA7B,EAAAG,KAAA,IAAAH,EAAA1L,IAAA,IAGAwM,MAAA8B,cACA9B,KAAA+B,UACA/B,KAAAgC,UAGA,QAAAhC,KAAAvN,MAAA4D,SAAA9C,IAAA,gBACAyM,KAAAiC,gBAKAH,YAAA,WAQA,QAAAI,GAAA1J,GAAoC,mBAAAuH,EAAAtE,OAAAjD,EAAA8D,GAAA,IAAAyD,EAAAzE,OAAA9C,EAAA+D,EAAA,OACpC,QAAA4F,GAAA3J,GAAmC,MAAAuH,GAAAO,OAAA9H,EAAA4H,GARnC,GAAAL,GAAAC,KACAyB,EAAAzB,KAAAyB,OACA9B,EAAAK,KAAAL,MAEA1D,GADA+D,KAAA3N,QAAA6M,OACAc,KAAA/D,KACA2F,EAAA5B,KAAA4B,SACAC,EAAA7B,KAAA6B,UAoBAO,GAfAnG,EAAA6E,OAAA,QACAC,KAAA,QAAApB,GACAoB,KAAA,SAAAU,GACAV,KAAA,OAAAf,KAAA3N,QAAAwN,kBAGA5D,EAAA6E,OAAA,YACAC,KAAA,aACAD,OAAA,QACAC,KAAA,OACAA,KAAA,OACAA,KAAA,QAAApB,GACAoB,KAAA,SAAAU,GAGAxF,EAAA6E,OAAA,KAAAC,KAAA,2BAGAsB,EAAAD,EAAAE,UAAA,aAAApO,KAAA8L,KAAA9L,KAAA,SAAAsE,EAAAoB,GACA,MAAApB,GAAA8D,EAAA,KAAA9D,EAAA+D,IAEAgG,EAAAF,EAAAG,QAAA1B,OAAA,KACAC,KAAA,oBACAwB,GAAAzB,OAAA,QACAC,KAAA,oBACAsB,EAAAC,UAAA,QACAvB,KAAA,QACAA,KAAA,QACAA,KAAA,OAAAoB,GACApB,KAAA,QAAAa,GACAb,KAAA,SAAAc,GACAd,KAAA,YAAAmB,GAGAG,EAAAC,UAAA,QACA9F,GAAA,oBAAAhE,GACA,GAAAxE,GAAA+L,EAAAtN,MAAA4D,SAAA9C,IAAA,gBAAAkP,MACA,IAAAzO,EAAA,CACAsE,GAAAoK,MAAAC,iBACA,IAAAC,GAAA7C,EAAAhG,WAAAT,MAAAgD,EAAA9D,EAAA8D,GACAuG,EAAA9C,EAAAhG,WAAAT,MAAAiD,EAAA/D,EAAA+D,EACA1I,QAAAiP,KAAA9O,EAAAV,QAAA,YAAAsP,IACA/O,OAAAiP,KAAA9O,EAAAV,QAAA,YAAAuP,OAGArG,GAAA,qBAAAhE,GACAuH,EAAAa,QAAAtB,MAAA,cACAS,EAAAa,QAAAmC,KAAAhD,EAAAiD,iBAAAxK,IACA8G,MAAA,OAAAhH,GAAAoK,MAAA,YACApD,MAAA,MAAAhH,GAAAoK,MAAAO,MAAA,WAEAzG,GAAA,oBAAAhE,GACAuH,EAAAa,QAAAtB,MAAA,eAIAU,KAAAY,QAAAtB,MAAA,aAGA+C,EAAAa,OAAAC,UAIApB,QAAA,WACA,GACAN,GAAAzB,KAAAyB,OACA9B,EAAAK,KAAAL,MACAT,EAAAc,KAAA3N,QAAA6M,OACAjD,EAAA+D,KAAA/D,IACAmH,EAAApD,KAAA3N,QAAAiN,MAAA,aACAsC,EAAA5B,KAAA4B,QAGA5B,MAAAqD,OAAApH,EAAA6E,OAAA,KACAC,KAAA,kBACAzB,MAAA,kBACAyB,KAAA,2BAAAU,EAAA,KACAjQ,KAAAwO,KAAAhE,MAGA,IAAAsH,GAAA7K,KAAAE,IAAAiJ,EAAAwB,EACApD,MAAAqD,OAAAf,UAAA,QACAhD,MAAAU,KAAA3N,QAAAiN,OACAA,OAAyBG,YAAA6D,EAAA,OACzBvC,KAAA,qBAAAvI,GACA,GAAA+D,IAAAyD,KAAAuD,UAAA9B,OAAA,GACAnF,GAAAgH,EAAA1B,EAAA,CACA,+BAAArF,EAAA,IAAAD,EAAA,KAIAL,GAAA6E,OAAA,QACAC,KAAA,QAAApB,GACAoB,KAAA,SAAAqC,EAAA,GACArC,KAAA,IAAAU,EAAAvC,EAAAE,OAAAgE,EAAA,GACArC,KAAA,OAAAf,KAAA3N,QAAAyN,aACAiB,KAAA,aAGAf,MAAAwD,YAAAvH,EAAA6E,OAAA,QACAC,KAAA,mBACAzB,MAAAU,KAAA3N,QAAAiN,OACAlM,KAAA4M,KAAAvN,MAAA4D,SAAA9C,IAAA,iBACAwN,KAAA,qBAAAvI,GACA,GAAA+D,GAAAkF,EAAAvC,EAAAE,OAAAgE,EAAA,EACA9G,GAAAqD,EAAAK,KAAAuD,UAAA5D,OAAA,CACA,oBAAArD,EAAA,IAAAC,EAAA,MAIAyD,KAAAyD,YAAAxH,EAAA6E,OAAA,QACAC,KAAA,iBACAzB,MAAAU,KAAA3N,QAAAiN,OACAA,OAAwBG,YAAA,IAAA2D,IACxBhQ,KAAA4M,KAAAnJ,MAAAT,KACA2K,KAAA,qBAAAvI,GACA,GAAA+D,IAAA2C,EAAA1L,IAAA,EACA8I,GAAAqD,EAAAK,KAAAuD,UAAA5D,OAAA,CACA,oBAAArD,EAAA,IAAAC,EAAA,OAKAyF,QAAA,WACA,GACAP,GAAAzB,KAAAyB,OAEAvC,GADAc,KAAAL,MACAK,KAAA3N,QAAA6M,QACAjD,EAAA+D,KAAA/D,IACAmH,EAAApD,KAAA3N,QAAAiN,MAAA,aACAuC,EAAA7B,KAAA6B,SAGA7B,MAAA0D,OAAAzH,EAAA6E,OAAA,KACAC,KAAA,kBACAzB,MAAA,kBACA9N,KAAAwO,KAAAjE,MAGA,IAAA4H,GAAAlL,KAAAE,IAAAkJ,EAAAuB,EACApD,MAAA0D,OAAApB,UAAA,QACAhD,MAAAU,KAAA3N,QAAAiN,OACAA,OAAyBG,YAAAkE,EAAA,OACzB5C,KAAA,KAAAc,EAAA,EAGA5F,GAAA6E,OAAA,QACAC,KAAA,QAAAqC,GACArC,KAAA,SAAAU,GACAV,KAAA,KAAA7B,EAAAG,MACA0B,KAAA,OAAAf,KAAA3N,QAAAyN,aACAiB,KAAA,aAGAf,MAAA4D,YAAA3H,EAAA6E,OAAA,QACAC,KAAA,mBACAzB,MAAAU,KAAA3N,QAAAiN,OACAlM,KAAA4M,KAAAvN,MAAA4D,SAAA9C,IAAA,iBACAwN,KAAA,qBAAAvI,GACA,GAAA8D,IAAA4C,EAAAG,KAAA+D,EAAA,EACA7G,IAAAkF,EAAAzB,KAAAuD,UAAA5D,OAAA,CACA,+BAAApD,EAAA,IAAAD,EAAA,OAKA2F,aAAA,WACA,GAAAlC,GAAAC,KACAyB,EAAAzB,KAAAyB,OACA9B,EAAAK,KAAAL,MACAT,EAAAc,KAAA3N,QAAA6M,OACAkE,EAAApD,KAAA3N,QAAAqN,OAAAJ,MAAA,aACA3B,EAAAqC,KAAA3N,QAAAqN,OAAA/B,MACAkG,EAAA7D,KAAA3N,QAAAqN,OAAAE,KACAkE,EAAA9D,KAAA3N,QAAAqN,OAAAC,MACAoE,EAAA/D,KAAAM,OAAAE,QAAA5J,OACAoN,EAAAvL,KAAAG,IAAAiL,EAAApC,EAAAsC,EAAAX,GACAa,EAAAF,EAAAC,EAAA,EACA9P,EAAAoE,GAAAkI,MAAAR,KAAAG,KAAAH,KAAAK,KAAA,GAAAL,KAAAK,KAAAL,KAAAG,MAAA4D,GAAA9F,SACA,MAAA/J,EAAA0C,OAAA,IAGA,GAAA8I,GAAAM,KAAA/D,IAAAqG,UAAA,WACApO,QACAsO,QAAA1B,OAAA,KACAC,KAAA,kBACAA,KAAA,qBAAAvI,EAAAoB,GACA,GAAA0C,GAAAqD,EAAA,GACApD,GAAAkF,EAAAwC,GAAA,EAAArK,EAAAoK,CACA,oBAAA1H,EAAA,IAAAC,EAAA,KAEAmD,GAAAoB,OAAA,QACAC,KAAA,QAAA+C,GACA/C,KAAA,SAAAiD,GACA1E,MAAA,gBAAAc,GAAiD,MAAAL,GAAAO,OAAAF,KACjDV,EAAAoB,OAAA,QACAC,KAAA,IAAA+C,EAAA,GACA/C,KAAA,eAA0C,OAAAiD,EAAAhE,KAAAuD,UAAA9B,QAAA,IAC1CnC,MAAAU,KAAA3N,QAAAqN,OAAAJ,OACAlM,KAAA,SAAAoF,GAAwC,MAAAkB,QAAAlB,GAAA5B,OAAA+G,EAAAjE,OAAAlB,GAAA0L,OAAA,EAAAvG,EAAA,QAAAjE,OAAAlB,KACxCwH,KAAA/D,IAAA6E,OAAA,QACAxB,MAAAU,KAAA3N,QAAAqN,OAAAJ,OACAA,OAAyBG,YAAA,EAAAF,cAAA,SACzBnM,KAAA,UACA2N,KAAA,qBAAAvI,EAAAoB,GACA,GAAA0C,GAAAqD,GAAAT,EAAAC,MAAAa,KAAAuD,UAAA5D,OAAA,EACApD,GAAAkF,EAAAwC,GAAA,IACA,oBAAA3H,EAAA,IAAAC,EAAA,QAKAoE,gBAAA,SAAArP,GACA,GAAA+E,GAAA2J,KAAAvN,MAAA4D,SACA0J,EAAAC,IACAjO,GAAAoI,gBACAJ,WAAAgG,EAAAhG,WAAAT,MAAAhI,GACAiD,KAAA8B,EAAA9C,IAAAjC,EAAA,mBACA8I,UAAA/D,EAAA9C,IAAAjC,EAAA,wBACA+I,UAAA,SAAAA,GACAA,GACA0F,EAAAzO,EAAA,QAAA6S,WAAA,SAAA/L,GACA,MAAAiC,GAAAjC,SAQAgM,aAAA,SAAAtM,GACAkI,KAAAvN,MAAAmF,MAAA,SAAAE,IAIAkL,iBAAA,SAAAxK,GACA,GAAA8D,GAAA0D,KAAAjG,WAAAT,MAAAgD,EAAA9D,EAAA8D,GACAC,EAAAyD,KAAAjG,WAAAT,MAAAiD,EAAA/D,EAAA+D,GACA6D,EAAA5H,EAAA4H,CACA,mEAGA7D,EAAA,kEAIAD,EAAA,iEAIA8D,EAAA,yBAKCzN,MAAAvB,EAAAS,KAAAe,SAAAd,IAAAT,EAAAD,QAAAU","file":"others_heatmap.js","sourcesContent":["define(function() { return /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(4), __webpack_require__(39) ], __WEBPACK_AMD_DEFINE_RESULT__ = function( Utilities, HeatMap ) {\n\t    return Backbone.View.extend({\n\t        initialize: function( options ) {\n\t            options.render = function( canvas_id, groups ) {\n\t                new HeatMap({\n\t                    chart       : options.chart,\n\t                    canvas_id   : canvas_id,\n\t                    groups      : groups\n\t                });\n\t                return true;\n\t            };\n\t            Utilities.panelHelper( options );\n\t        }\n\t    });\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n\n/***/ 1:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/** Useful helper functions */\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function() {\n\t\n\t    /** Clone */\n\t    function clone( obj ) {\n\t        return JSON.parse( JSON.stringify( obj ) || null );\n\t    };\n\t\n\t    /**\n\t     * Check if a string is a json string\n\t     * @param{String}   text - Content to be validated\n\t     */\n\t    function isJSON(text) {\n\t        return /^[\\],:{}\\s]*$/.test(text.replace(/\\\\[\"\\\\\\/bfnrtu]/g, '@').\n\t            replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g, ']').\n\t            replace(/(?:^|:|,)(?:\\s*\\[)+/g, ''));\n\t    };\n\t\n\t    /**\n\t     * Request handler for GET\n\t     * @param{String}   url     - Url request is made to\n\t     * @param{Function} success - Callback on success\n\t     * @param{Function} error   - Callback on error\n\t     * @param{Boolean}  cache   - Use cached data if available\n\t     */\n\t    function get (options) {\n\t        top.__utils__get__ = top.__utils__get__ || {};\n\t        var cache_key = JSON.stringify( options );\n\t        if (options.cache && top.__utils__get__[cache_key]) {\n\t            options.success && options.success(top.__utils__get__[cache_key]);\n\t            window.console.debug('utils.js::get() - Fetching from cache [' + options.url + '].');\n\t        } else {\n\t            request({\n\t                url     : options.url,\n\t                data    : options.data,\n\t                success : function(response) {\n\t                    top.__utils__get__[cache_key] = response;\n\t                    options.success && options.success(response);\n\t                },\n\t                error : function(response) {\n\t                    options.error && options.error(response);\n\t                }\n\t            });\n\t        }\n\t    };\n\t\n\t    /**\n\t     * Request handler\n\t     * @param{String}   method  - Request method ['GET', 'POST', 'DELETE', 'PUT']\n\t     * @param{String}   url     - Url request is made to\n\t     * @param{Object}   data    - Data send to url\n\t     * @param{Function} success - Callback on success\n\t     * @param{Function} error   - Callback on error\n\t     */\n\t    function request (options) {\n\t        var ajaxConfig = {\n\t            contentType : 'application/json',\n\t            type        : options.type || 'GET',\n\t            data        : options.data || {},\n\t            url         : options.url\n\t        }\n\t        if ( ajaxConfig.type == 'GET' || ajaxConfig.type == 'DELETE' ) {\n\t            if ( !$.isEmptyObject(ajaxConfig.data) ) {\n\t                ajaxConfig.url += ajaxConfig.url.indexOf('?') == -1 ? '?' : '&';\n\t                ajaxConfig.url += $.param(ajaxConfig.data, true);\n\t            }\n\t            ajaxConfig.data = null;\n\t        } else {\n\t            ajaxConfig.dataType = 'json';\n\t            ajaxConfig.url      = ajaxConfig.url;\n\t            ajaxConfig.data     = JSON.stringify( ajaxConfig.data );\n\t        }\n\t        $.ajax( ajaxConfig ).done( function( response ) {\n\t            if ( typeof response === 'string' && isJSON( response ) ) {\n\t                try {\n\t                    response = response.replace( 'Infinity,', '\"Infinity\",' );\n\t                    response = jQuery.parseJSON( response );\n\t                } catch ( e ) {\n\t                    console.debug( e );\n\t                }\n\t            }\n\t            options.success && options.success( response );\n\t        }).fail( function( response ) {\n\t            var response_text = null;\n\t            try {\n\t                response_text = jQuery.parseJSON( response.responseText );\n\t            } catch (e) {\n\t                response_text = response.responseText;\n\t            }\n\t            options.error && options.error( response_text, response );\n\t        }).always( function() {\n\t            options.complete && options.complete();\n\t        });\n\t    };\n\t\n\t    /**\n\t     * Safely merge to dictionaries\n\t     * @param{Object}   options         - Target dictionary\n\t     * @param{Object}   optionsDefault  - Source dictionary\n\t     */\n\t    function merge (options, optionsDefault) {\n\t        if (options) {\n\t            return _.defaults(options, optionsDefault);\n\t        } else {\n\t            return optionsDefault;\n\t        }\n\t    };\n\t\n\t    /** Create a unique id */\n\t    function uid(){\n\t        top.__utils__uid__ = top.__utils__uid__ || 0;\n\t        return 'uid-' + top.__utils__uid__++;\n\t    };\n\t\n\t    return {\n\t        get     : get,\n\t        merge   : merge,\n\t        uid     : uid,\n\t        request : request,\n\t        clone   : clone,\n\t        isJSON  : isJSON\n\t    };\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n\n/***/ 4:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(1), __webpack_require__(5) ], __WEBPACK_AMD_DEFINE_RESULT__ = function( Utils, Datasets ) {\n\t    /** build job dictionary */\n\t    function buildJobDictionary( chart, module ) {\n\t        var settings_string = '';\n\t        var columns_string = '';\n\t        var group_index = 0;\n\t        for ( key in chart.settings.attributes ) {\n\t            var settings_value = chart.settings.get( key );\n\t            _.each( [ [ ' ', '&#32;' ], [ ',', '&#44;' ], [ ':', '&#58;' ] ], function( pair ) {\n\t                settings_value = settings_value.replace( new RegExp( pair[ 0 ], 'g' ), pair[ 1 ] );\n\t            });\n\t            settings_string += key + ':' + settings_value + ', ';\n\t        };\n\t        settings_string = settings_string.substring( 0, settings_string.length - 2 )\n\t        chart.groups.each( function( group ) {\n\t            group_index++;\n\t            _.each( group.get( '__data_columns' ), function( data_columns, name ) {\n\t                columns_string += name + '_' + group_index + ':' + ( parseInt( group.get( name ) ) + 1 ) + ', ';\n\t            });\n\t        });\n\t        columns_string = columns_string.substring( 0, columns_string.length - 2 );\n\t        return {\n\t                    'tool_id'       : 'charts',\n\t                    'inputs'        : {\n\t                        'input'     : {\n\t                            'id'    : chart.get( 'dataset_id' ),\n\t                            'src'   : 'hda'\n\t                        },\n\t                        'module'    : module,\n\t                        'columns'   : columns_string,\n\t                        'settings'  : settings_string\n\t                    }\n\t                }\n\t    };\n\t\n\t    /** Assists in assigning the viewport panels */\n\t    function panelHelper( options ) {\n\t        var self = this;\n\t        var process             = options.process;\n\t        var chart               = options.chart;\n\t        var render              = options.render;\n\t        var targets             = options.targets;\n\t        var dataset_id          = options.dataset_id || options.chart.get( 'dataset_id' );\n\t        var dataset_groups      = options.dataset_groups || options.chart.groups;\n\t        Datasets.request({\n\t            chart           : chart,\n\t            dataset_id      : dataset_id,\n\t            dataset_groups  : dataset_groups,\n\t            success         : function( result ) {\n\t                try {\n\t                    if ( targets.length == result.length ) {\n\t                        var valid = true;\n\t                        for ( var group_index in result ) {\n\t                            var group = result[ group_index ];\n\t                            if ( !render( targets[ group_index ], [ group ] ) ) {\n\t                                valid = false;\n\t                                break;\n\t                            }\n\t                        }\n\t                        if ( valid ) {\n\t                            chart.state( 'ok', 'Multi-panel chart drawn.' );\n\t                        }\n\t                    } else if ( targets.length == 1 ) {\n\t                        if ( render( targets[ 0 ], result ) ) {\n\t                            chart.state( 'ok', 'Chart drawn.' );\n\t                        }\n\t                    } else {\n\t                        chart.state( 'failed', 'Invalid panel count.' );\n\t                    }\n\t                    process.resolve();\n\t                } catch ( err ) {\n\t                    console.debug( 'FAILED: tabular-utilities::panelHelper() - ' + err );\n\t                    chart.state( 'failed', err );\n\t                    process.reject();\n\t                }\n\t            }\n\t        });\n\t    };\n\t\n\t    /** Get domain boundaries value */\n\t    function getDomains( groups, keys ) {\n\t        function _apply( operator, key ) {\n\t            var value = undefined;\n\t            for ( var group_index in groups ) {\n\t                var value_sub = d3[ operator ]( groups[ group_index ].values, function( d ) { return d[ key ] } );\n\t                value = value === undefined ? value_sub : Math[ operator ]( value, value_sub );\n\t            }\n\t            return value;\n\t        };\n\t        var result = {};\n\t        for( var index in keys ) {\n\t            var key = keys[ index ];\n\t            result[ key ] = {\n\t                min : _apply( 'min', key ),\n\t                max : _apply( 'max', key ),\n\t            };\n\t           \n\t        }\n\t        return result;\n\t    };\n\t\n\t    /** Default series maker */\n\t    function makeSeries( groups, keys ) {\n\t        var plot_data = [];\n\t        for ( var group_index in groups ) {\n\t            var group = groups[ group_index ];\n\t            var data = [];\n\t            for ( var value_index in group.values ) {\n\t                var point = [];\n\t                if ( keys ) {\n\t                    for ( var key_index in keys ) {\n\t                        var column_index = keys[ key_index ];\n\t                        point.push( group.values[ value_index ][ column_index ] );\n\t                    }\n\t                } else {\n\t                    for ( var column_index in group.values[ value_index ] ) {\n\t                        point.push( group.values[ value_index ][ column_index ] );\n\t                    }\n\t                }\n\t                data.push( point );\n\t            }\n\t            plot_data.push( data );\n\t        }\n\t        return plot_data;\n\t    };\n\t\n\t    /** Default category maker */\n\t    function makeCategories( groups, column_keys ) {\n\t        var array = {};\n\t        var data_columns = groups[ 0 ].__data_columns;\n\t        _.each( column_keys, function( key ) {\n\t            if ( data_columns[ key ].is_label ) {\n\t                array[ key ] = [];\n\t            }\n\t        });\n\t        if ( groups && groups[ 0 ] ) {\n\t            _.each( groups[ 0 ].values, function( value_dict ) {\n\t                for ( var key in array ) {\n\t                    array[ key ].push( String( value_dict[ key ] ) );\n\t                }\n\t            });\n\t        }\n\t        mapCategories( array, groups );\n\t        return { array : array }\n\t    };\n\t\n\t    /** Apply default mapping index all values contained in label columns (for all groups) */\n\t    function mapCategories( array, groups ) {\n\t        _.each( groups, function( group ) {\n\t            _.each( group.values, function( value_dict, i ) {\n\t                for ( var key in array ) {\n\t                    value_dict[ key ] = parseInt( i )\n\t                }\n\t            });\n\t        });\n\t    };\n\t\n\t    /** Category make for unique category labels */\n\t    function makeUniqueCategories( groups, with_index ) {\n\t        var categories  = {};\n\t        var array       = {};\n\t        var counter     = {};\n\t        var data_columns = groups[ 0 ].__data_columns;\n\t        _.each( data_columns, function( column_def, key ) {\n\t            if ( column_def.is_label ) {\n\t                categories[ key ] = {};\n\t                array[ key ]      = [];\n\t                counter[ key ]    = 0;\n\t            }\n\t        });\n\t        // index all values contained in label columns (for all groups)\n\t        for ( var i in groups ) {\n\t            var group = groups[ i ];\n\t            for ( var j in group.values ) {\n\t                var value_dict = group.values[ j ];\n\t                for ( var key in categories ) {\n\t                    var value = String( value_dict[ key ] );\n\t                    if ( categories[ key ][ value ] === undefined ) {\n\t                        categories[ key ][ value ] = counter[ key ];\n\t                        array[ key ].push( with_index ? [counter[key], value] : value );\n\t                        counter[ key ]++;\n\t                    }\n\t                }\n\t            }\n\t        }\n\t        // convert group values into category indeces\n\t        for ( var i in groups ) {\n\t            var group = groups[ i ];\n\t            for ( var j in group.values ) {\n\t                var value_dict = group.values[ j ];\n\t                for ( var key in categories ) {\n\t                    var value = String( value_dict[ key ] );\n\t                    value_dict[ key ] = categories[ key ][ value ];\n\t                }\n\t            }\n\t        }\n\t        return {\n\t            categories  : categories,\n\t            array       : array,\n\t            counter     : counter\n\t        }\n\t    };\n\t\n\t    /** Make axis */\n\t    function makeTickFormat ( options ) {\n\t        var type        = options.type;\n\t        var precision   = options.precision;\n\t        var categories  = options.categories;\n\t        var formatter   = options.formatter;\n\t        if ( type == 'hide' ) {\n\t            formatter( function() { return '' } );\n\t        } else if ( type == 'auto' ) {\n\t            if ( categories ) {\n\t                formatter( function( value ) { return categories[ value ] || '' } );\n\t            }\n\t        } else {\n\t            var d3format = function( d ) {\n\t                switch ( type ) {\n\t                    case 's':\n\t                        var prefix = d3.formatPrefix( d );\n\t                        return prefix.scale( d ).toFixed() + prefix.symbol;\n\t                    default :\n\t                        return d3.format( '.' + precision + type )( d );\n\t                }\n\t            };\n\t            if ( categories ) {\n\t                formatter( function( value ) {\n\t                    var label = categories[ value ];\n\t                    if ( label ) {\n\t                        if ( isNaN( label ) ) {\n\t                            return label;\n\t                        } else {\n\t                            try {\n\t                                return d3format( label );\n\t                            } catch ( err ) {\n\t                                return label;\n\t                            }\n\t                        }\n\t                    } else {\n\t                        return '';\n\t                    }\n\t                });\n\t            } else {\n\t                formatter( function( value ) { return d3format( value ) } );\n\t            }\n\t        }\n\t    };\n\t\n\t    /** Add zoom handler */\n\t    function addZoom( options ) {\n\t        var scaleExtent = 100;\n\t        var yAxis       = options.yAxis;\n\t        var xAxis       = options.xAxis;\n\t        var xDomain     = options.xDomain || xAxis.scale().domain;\n\t        var yDomain     = options.yDomain || yAxis.scale().domain;\n\t        var redraw      = options.redraw;\n\t        var svg         = options.svg;\n\t        var xScale      = xAxis.scale();\n\t        var yScale      = yAxis.scale();\n\t        var x_boundary  = xScale.domain().slice();\n\t        var y_boundary  = yScale.domain().slice();\n\t        var d3zoom      = d3.behavior.zoom();\n\t        xScale.nice();\n\t        yScale.nice();\n\t        function fixDomain( domain, boundary ) {\n\t            domain[ 0 ] = Math.min( Math.max( domain[ 0 ], boundary[ 0 ] ), boundary[ 1 ] - boundary[ 1 ]/scaleExtent );\n\t            domain[ 1 ] = Math.max( boundary[ 0 ] + boundary[ 1 ] / scaleExtent, Math.min( domain[ 1 ], boundary[ 1 ] ) );\n\t            return domain;\n\t        };\n\t        function zoomed() {\n\t            yDomain( fixDomain( yScale.domain(), y_boundary ) );\n\t            xDomain( fixDomain( xScale.domain(), x_boundary ) );\n\t            redraw();\n\t        };\n\t        function unzoomed() {\n\t            xDomain( x_boundary );\n\t            yDomain( y_boundary );\n\t            redraw();\n\t            d3zoom.scale( 1 );\n\t            d3zoom.translate( [ 0 , 0 ] );\n\t        };\n\t        d3zoom.x( xScale )\n\t              .y( yScale )\n\t              .scaleExtent( [ 1, scaleExtent ] )\n\t              .on( 'zoom', zoomed );\n\t        svg.call( d3zoom ).on( 'dblclick.zoom', unzoomed );\n\t        return d3zoom;\n\t    };\n\t\n\t    return {\n\t        buildJobDictionary      : buildJobDictionary,\n\t        panelHelper             : panelHelper,\n\t        makeCategories          : makeCategories,\n\t        makeUniqueCategories    : makeUniqueCategories,\n\t        makeSeries              : makeSeries,\n\t        getDomains              : getDomains,\n\t        mapCategories           : mapCategories,\n\t        makeTickFormat          : makeTickFormat,\n\t        addZoom                 : addZoom\n\t    }\n\t\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ },\n\n/***/ 5:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/** This class handles, formats and caches datasets. */\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(1) ], __WEBPACK_AMD_DEFINE_RESULT__ = function( Utils ) {\n\t    /** Fills request dictionary with data from cache/response */\n\t    var _cache = {};\n\t    var request = function( options ) {\n\t        var groups      = options.dataset_groups;\n\t        var dataset_id  = options.dataset_id;\n\t        // identify columns needed to fulfill request\n\t        var column_list = [];\n\t        groups.each( function( group ) {\n\t            _.each( group.get( '__data_columns' ), function( column_def, column_name ) {\n\t                var column = group.get( column_name );\n\t                var block_id = _block_id( dataset_id, column );\n\t                if ( column_list.indexOf( column ) === -1 && !_cache[ block_id ] && column != 'auto' && column != 'zero' && column !== undefined ) {\n\t                    column_list.push( column );\n\t                }\n\t            });\n\t        });\n\t        if ( column_list.length == 0 ) {\n\t            _fillFromCache( options );\n\t            return;\n\t        }\n\t        // Fetch data columns into dataset object\n\t        Utils.get({\n\t            url     : Galaxy.root + 'api/datasets/' + dataset_id,\n\t            data    : {\n\t                data_type   : 'raw_data',\n\t                provider    : 'dataset-column',\n\t                indeces     : column_list.toString()\n\t            },\n\t            success : function( response ) {\n\t                var results = new Array( column_list.length );\n\t                for ( var i = 0; i < results.length; i++ ) {\n\t                    results[ i ] = [];\n\t                }\n\t                for ( var i in response.data ) {\n\t                    var row = response.data[ i ];\n\t                    for ( var j in row ) {\n\t                        var v = row[ j ];\n\t                        if ( v !== undefined && v != 2147483647 ) {\n\t                            results[ j ].push( v );\n\t                        }\n\t                    }\n\t                }\n\t                console.debug( 'tabular-datasets::_fetch() - Fetching complete.' );\n\t                for ( var i in results ) {\n\t                    var column = column_list[ i ];\n\t                    var block_id = _block_id( dataset_id, column );\n\t                    _cache[ block_id ] = results[ i ];\n\t                }\n\t                _fillFromCache( options );\n\t            }\n\t        });\n\t    };\n\t\n\t    /** Fill data from cache */\n\t    var _fillFromCache = function( options ) {\n\t        var groups      = options.dataset_groups;\n\t        var dataset_id  = options.dataset_id;\n\t        console.debug( 'tabular-datasets::_fillFromCache() - Filling request from cache.' );\n\t        var limit = 0;\n\t        groups.each( function( group ) {\n\t            _.each( group.get( '__data_columns' ), function( column_def, column_name ) {\n\t                var column = group.get( column_name );\n\t                var block_id = _block_id( dataset_id, column );\n\t                var column_data = _cache[ block_id ];\n\t                if ( column_data ) {\n\t                    limit = Math.max( limit, column_data.length );\n\t                }\n\t            });\n\t        });\n\t        if ( limit == 0 ) {\n\t            console.debug( 'tabular-datasets::_fillFromCache() - No data available.' );\n\t        }\n\t        var results = [];\n\t        groups.each( function( group, group_index ) {\n\t            var dict = Utils.merge( { key: ( group_index ) + ':' + group.get( 'key' ), values: [] }, group.attributes );\n\t            for ( var j = 0; j < limit; j++ ) {\n\t                dict.values[ j ] = { x : parseInt( j ) };\n\t            }\n\t            results.push( dict );\n\t        });\n\t        groups.each( function( group, group_index ) {\n\t            var values = results[ group_index ].values;\n\t            _.each( group.get( '__data_columns' ), function( column_def, column_name ) {\n\t                var column = group.get( column_name );\n\t                switch ( column ) {\n\t                    case 'auto':\n\t                        for ( var j = 0; j < limit; j++ ) {\n\t                            values[ j ][ column_name ] = parseInt( j );\n\t                        }\n\t                        break;\n\t                    case 'zero':\n\t                        for ( var j = 0; j < limit; j++ ) {\n\t                            values[ j ][ column_name ] = 0;\n\t                        }\n\t                        break;\n\t                    default:\n\t                        var block_id = _block_id( dataset_id, column );\n\t                        var column_data = _cache[ block_id ];\n\t                        for ( var j = 0; j < limit; j++ ) {\n\t                            var value = values[ j ];\n\t                            var v = column_data[ j ];\n\t                            if ( isNaN( v ) && !column_def.is_label ) {\n\t                                v = 0;\n\t                            }\n\t                            value[ column_name ] = v;\n\t                        }\n\t                }\n\t            });\n\t        });\n\t        options.success( results );\n\t    };\n\t\n\t    /** Get block id */\n\t    var _block_id = function ( dataset_id, column ) {\n\t        return dataset_id + '_' + '_' + column;\n\t    };\n\t\n\t    return { request: request };\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n\n/***/ 38:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function() {\n\t    return {\n\t        colorSets: {\n\t            seis:       ['#AA0000', '#D00000', '#F70000', '#FF1D00', '#FF4400', '#FF6A00', '#FF9000', '#FFB700', '#FFDD00', '#FFFF00', '#FFFF00', '#FFFF00', '#BDFF0C', '#73FF1A', '#3FFA36', '#16F45A', '#00D08B', '#0087CD', '#0048FA', '#0024E3'].reverse(),\n\t            \n\t            sealand:    ['#8C66FF', '#6A66FF', '#6684FF', '#66A7FF', '#66CAFF', '#66ECFF', '#66FFF0', '#66FFCE', '#66FFAB', '#66FF88', '#66FF66', '#88FF66', '#ABFF66', '#CEFF66', '#FFEEA6', '#FFD3A6', '#FFB8A6', '#FFAAB0', '#FFB5CB', '#FFC0E1'].reverse(),\n\t            \n\t            redgreen:   ['#005824', '#1A693B', '#347B53', '#4F8D6B', '#699F83', '#83B09B', '#9EC2B3', '#B8D4CB', '#D2E6E3', '#EDF8FB', '#FFFFFF', '#F1EEF6', '#E6D3E1','#DBB9CD', '#D19EB9', '#C684A4', '#BB6990', '#B14F7C', '#A63467', '#9B1A53', '#91003F'],\n\t            \n\t            ocean:      ['#000000', '#000209', '#000413', '#00061E', '#000728', '#000932', '#002650', '#00426E', '#005E8C', '#007AAA', '#0096C8', '#22A9C2', '#45BCBB', '#67CFB5', '#8AE2AE', '#ACF6A8', '#BCF8B9', '#CBF9CA', '#DBFBDC', '#EBFDED'].reverse(),\n\t            \n\t            cool:       ['#00FFFF', '#0DF2FF', '#19E6FF', '#26D9FF', '#33CCFF', '#3FBFFF', '#4CB3FF', '#59A6FF', '#6699FF', '#738CFF', '#7F7FFF', '#8C73FF', '#9966FF', '#A659FF', '#B24DFF', '#BF3FFF', '#CC33FF', '#D926FF', '#E619FF', '#F20DFF'],\n\t            \n\t            copper:     ['#000000', '#100906', '#1F130D', '#301E13', '#40281A', '#50321F', '#603C26', '#70462D', '#805033', '#905A3A', '#A06440', '#B06E46', '#C0784D', '#D08253', '#E08C5A', '#F09660', '#FFA066', '#FFAA6D', '#FFB473', '#FFBE7A'].reverse(),\n\t            \n\t            gray:       ['#000000', '#0D0D0D', '#191919', '#262626', '#333333', '#3F3F3F', '#4C4C4C', '#595959', '#666666', '#737373', '#7F7F7F', '#8C8C8C', '#999999', '#A6A6A6', '#B2B2B2', '#BFBFBF', '#CCCCCC', '#D9D9D9', '#E6E6E6', '#F2F2F2'].reverse(),\n\t            \n\t            hot:        ['#000000', '#220000', '#440000', '#660000', '#880000', '#AA0000', '#CC0000', '#EE0000', '#FF1100', '#FF3300', '#FF5500', '#FF7700', '#FF9900', '#FFBB00', '#FFDD00', '#FFFF00', '#FFFF33', '#FFFF66', '#FFFF99', '#FFFFCC'].reverse(),\n\t            \n\t            jet:        ['#00007F', '#0000B2', '#0000E5', '#0019FF', '#004DFF', '#007FFF', '#00B2FF', '#00E5FF', '#FFFFF2', '#FFFFD9', '#FFFFBF', '#FFFFA5', '#FFFF8C', '#FFE500', '#FFB300', '#FF7F00', '#FF4C00', '#FF1900', '#E50000', '#B20000'],\n\t            \n\t            no_green:   ['#1F60FF', '#1F60FF', '#1F9FFF', '#1FBFFF', '#00CFFF', '#2AFFFF', '#2AFFFF', '#55FFFF', '#7FFFFF', '#AAFFFF', '#FFFF54', '#FFFF54', '#FFF000', '#FFBF00', '#FFA800', '#FF8A00', '#FF8A00', '#FF7000', '#FF4D00', '#FF0000'],\n\t\n\t            polar:      ['#0000FF', '#1919FF', '#3333FF', '#4C4CFF', '#6666FF', '#7F7FFF', '#9999FF', '#B2B2FF', '#CCCCFF', '#E6E6FF', '#FFFFFF', '#FFE5E5', '#FFCCCC', '#FFB2B2', '#FF9999', '#FF7F7F', '#FF6666', '#FF4C4C', '#FF3333', '#FF1A1A'],\n\t\n\t            red2green:  ['#FF0000', '#FF1919', '#FF3333', '#FF4C4C', '#FF6666', '#FF7F7F', '#FF9999', '#FFB2B2', '#FFCCCC', '#FFE6E6', '#FFFFFF', '#E5FFE5', '#CCFFCC', '#B2FFB2', '#99FF99', '#7FFF7F',  '#66FF66', '#4CFF4C', '#33FF33', '#1AFF1A'].reverse(),\n\t\n\t            relief:     ['#000000', '#000413', '#000728', '#002650', '#005E8C', '#0096C8', '#45BCBB', '#8AE2AE', '#BCF8B9', '#DBFBDC', '#467832', '#887438', '#B19D48', '#DBC758', '#FAE769', '#FAEB7E', '#FCED93', '#FCF1A7', '#FCF6C1', '#FDFAE0'].reverse(),\n\t            \n\t            split:      ['#7F7FFF', '#6666E6', '#4D4DCC', '#3333B3', '#1A1A99', '#00007F', '#000066', '#00004D', '#000033', '#00001A', '#000000', '#1A0000', '#330000', '#4D0000', '#660000', '#7F0000', '#991A1A', '#B33333', '#CC4D4D', '#E66666'],\n\t            \n\t            wysiwyg:    ['#3F003F', '#3F003F', '#3F00BF', '#003FFF', '#00A0FF', '#3FBFFF', '#3FBFFF', '#40E0FF', '#3FFFBF', '#3FFF3F', '#7FFF3F', '#BFFF3F', '#BFFF3F', '#FFE040', '#FFE040', '#FF6040', '#FF1F40', '#FF60C0', '#FFA0FF', '#FFA0FF'].reverse()\n\t        }\n\t    }\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n\n/***/ 39:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(4), __webpack_require__(1), __webpack_require__(38) ], __WEBPACK_AMD_DEFINE_RESULT__ = function( Utilities, Utils, HeatmapParameters ) {\n\t    return Backbone.View.extend({\n\t        optionsDefault: {\n\t            margin: {\n\t                top                 : 40,\n\t                right               : 70,\n\t                bottom              : 70,\n\t                left                : 70\n\t            },\n\t            style: {\n\t                'font-weight'       : 'normal',\n\t                'font-family'       : 'Verdana',\n\t                'font-size'         : 12\n\t            },\n\t            legend: {\n\t                width               : 15,\n\t                size                : 0.9,\n\t                style : {\n\t                    'font-weight'   : 'normal',\n\t                    'font-family'   : 'Verdana',\n\t                    'font-size'     : 11\n\t                },\n\t                limit               : 7\n\t            },\n\t            background_color        : '#FFFFFF',\n\t            debug_color             : '#FFFFFF'\n\t        },\n\t        \n\t        initialize: function( options ) {\n\t            var self = this;\n\t            this.chart          = options.chart;\n\t            this.canvas_id      = options.canvas_id;\n\t            this.group          = options.groups[ 0 ];\n\t            this.data           = options.groups[ 0 ].values;\n\t            this.options        = Utils.merge ( this.optionsDefault, options );\n\t            \n\t            // get color set\n\t            this.color_set = HeatmapParameters.colorSets[ this.chart.settings.get( 'color_set' ) ];\n\t            \n\t            // categories\n\t            this.categories = Utilities.makeUniqueCategories( [ this.group ] );\n\t            \n\t            // domains/scales\n\t            this.xScale = d3.scale.linear().domain( [ 0, this.categories.array.x.length ] );\n\t            this.yScale = d3.scale.linear().domain( [ 0, this.categories.array.y.length ] );\n\t            \n\t            // color scale\n\t            this.zMin = d3.min( this.data, function( d ) { return d.z; } );\n\t            this.zMax = d3.max( this.data, function( d ) { return d.z; } );\n\t            this.zScale = d3.scale.quantize().domain( [ this.zMin, this.zMax ] ).range( this.color_set );\n\t\n\t            // create axis\n\t            this.xAxis = d3.svg.axis().scale( this.xScale ).orient( 'bottom' );\n\t            this.yAxis = d3.svg.axis().scale( this.yScale ).orient( 'left' );\n\t            \n\t            // make categories\n\t            this._makeTickFormat( 'x' );\n\t            this._makeTickFormat( 'y' );\n\t            \n\t            // add tooltip\n\t            this.tooltip = d3.select( '.charts-viewport-container' ).append( 'div' )\n\t                .attr( 'class', 'charts-tooltip' )\n\t                .style( this.options.style )\n\t                .style( 'opacity', 0 );\n\t            \n\t            // refresh on window resize\n\t            $( window ).on( 'resize', function () { self.redraw() } );\n\t            this.redraw();\n\t            Utilities.addZoom({\n\t                xAxis       : this.xAxis,\n\t                yAxis       : this.yAxis,\n\t                redraw      : function() { self.redraw() },\n\t                svg         : d3.select( '#' + this.canvas_id )\n\t            });\n\t        },\n\t            \n\t        /** Redraw */\n\t        redraw: function() {\n\t            // get parameters\n\t            var chart       = this.chart;\n\t            var data        = this.data;\n\t            var self        = this;\n\t            this.data       = data;\n\t            \n\t            // get/reset container\n\t            var container = $( '#' + this.canvas_id );\n\t            container.empty();\n\t            \n\t            // get domain\n\t            var xDomain = this.xScale.domain();\n\t            var yDomain = this.yScale.domain();\n\t            \n\t            // set ticks\n\t            var xTickStart = Math.ceil( xDomain[ 0 ] );\n\t            var xTickEnd   = Math.floor( xDomain[ 1 ] );\n\t            var yTickStart = Math.ceil( yDomain[ 0 ] );\n\t            var yTickEnd   = Math.floor( yDomain[ 1 ] );\n\t            this.xAxis.tickValues( d3.range( xTickStart, xTickEnd, 1 ) );\n\t            this.yAxis.tickValues( d3.range( yTickStart, yTickEnd, 1 ) );\n\t            \n\t            // get margins\n\t            var margin = this.options.margin;\n\t            \n\t            // configure dimensions\n\t            this.height = parseInt( container.height() ) - margin.top - margin.bottom;\n\t            this.width  = parseInt( container.width() ) - margin.left - margin.right;\n\t            \n\t            // set range\n\t            this.xScale.range( [ 0, this.width ] );\n\t            this.yScale.range( [ this.height, 0 ] );\n\t\n\t            // get box properties\n\t            this.rowCount = yDomain[ 1 ] - yDomain[ 0 ];\n\t            this.colCount = xDomain[ 1 ] - xDomain[ 0 ];\n\t            this.boxWidth = Math.max( 1, Math.floor( this.width / this.colCount ) );\n\t            this.boxHeight = Math.max( 1, Math.floor( this.height / this.rowCount ) );\n\t            \n\t            // create group\n\t            var svg = this.svg = d3.select( '#' + this.canvas_id )\n\t                                   .append( 'g' )\n\t                                   .attr( 'class', 'heatmap' )\n\t                                   .attr( 'transform', 'translate(' + margin.left + ',' + margin.top + ')' );\n\t                        \n\t            // build elements\n\t            this._buildBoxes();\n\t            this._buildX();\n\t            this._buildY();\n\t            \n\t            // show legend only if requested\n\t            if ( this.chart.settings.get('show_legend') == 'true' ) {\n\t                this._buildLegend();\n\t            }\n\t        },\n\t        \n\t        /** Build boxes */\n\t        _buildBoxes: function() {\n\t            var self = this;\n\t            var height      = this.height;\n\t            var width       = this.width;\n\t            var margin      = this.options.margin;\n\t            var svg         = this.svg;\n\t            var boxWidth    = this.boxWidth;\n\t            var boxHeight   = this.boxHeight;\n\t            function _locator( d ) { return 'translate(' + self.xScale( d.x ) + ',' + self.yScale( d.y + 1 ) + ')' };\n\t            function _color ( d ) { return self.zScale( d.z ) };\n\t\n\t            // set background color\n\t            var gBackground = svg.append( 'rect' )\n\t                .attr( 'width', width )\n\t                .attr( 'height', height )\n\t                .attr( 'fill', this.options.background_color );\n\t\n\t            // clip path\n\t            var clip = svg.append( 'clipPath' )\n\t                .attr( 'id', 'clip' )\n\t                .append( 'rect' )\n\t                .attr( 'x', 0 )\n\t                .attr( 'y', 0 )\n\t                .attr( 'width', width )\n\t                .attr( 'height', height );\n\t\n\t            // create chart area\n\t            var chartBody = svg.append( 'g' ).attr( 'clip-path', 'url(#clip)' );\n\t                \n\t            // add boxes to chart area\n\t            var boxes = chartBody.selectAll( 'box-group' ).data( this.data, function( d, i ) {\n\t                return d.x + '\\0' + d.y;\n\t            });\n\t            var gEnter = boxes.enter().append( 'g' )\n\t                .attr( 'class', 'box-group' );\n\t            gEnter.append( 'rect' )\n\t                .attr( 'class','heat-box' );\n\t            boxes.selectAll( 'rect' )\n\t                .attr( 'rx', 1 )\n\t                .attr( 'ry', 1 )\n\t                .attr( 'fill', _color )\n\t                .attr( 'width', boxWidth )\n\t                .attr( 'height', boxHeight )\n\t                .attr( 'transform', _locator );\n\t            \n\t            // add tooltip events\n\t            boxes.selectAll( 'rect' )\n\t            .on( 'dblclick', function( d ) {\n\t                var url = self.chart.settings.get( 'url_template' ).trim();\n\t                if ( url ) {\n\t                    d3.event.stopPropagation();\n\t                    var xLabel = self.categories.array.x[ d.x ];\n\t                    var yLabel = self.categories.array.y[ d.y ];\n\t                    window.open( url.replace( '__LABEL__', xLabel ) );\n\t                    window.open( url.replace( '__LABEL__', yLabel ) );\n\t                }\n\t            })\n\t            .on('mouseover', function( d ) {\n\t                self.tooltip.style( 'opacity', 0.9 );\n\t                self.tooltip .html( self._templateTooltip( d ) )\n\t                    .style( 'left', ( d3.event.pageX ) + 'px' )\n\t                    .style( 'top', ( d3.event.pageY - 20 ) + 'px' );\n\t                })\n\t            .on('mouseout', function( d ) {\n\t                self.tooltip.style( 'opacity', 0 );\n\t            });\n\t\n\t            // initially hide tooltips\n\t            this.tooltip.style( 'opacity', 0 );\n\t            \n\t            // exit\n\t            boxes.exit().remove();\n\t        },\n\t        \n\t        /** Build x axis */\n\t        _buildX : function() {\n\t            var self = this;\n\t            var height      = this.height;\n\t            var width       = this.width;\n\t            var margin      = this.options.margin;\n\t            var svg         = this.svg;\n\t            var font_size   = this.options.style[ 'font-size' ];\n\t            var boxWidth    = this.boxWidth;\n\t            \n\t            // draw x axis\n\t            this.gxAxis = svg.append( 'g' )\n\t                .attr( 'class', 'x axis' )\n\t                .style( 'stroke-width', 1 )\n\t                .attr( 'transform', 'translate(0,' + height + ')' )\n\t                .call( this.xAxis );\n\t                \n\t            // fix text\n\t            var xFontSize = Math.min( boxWidth, font_size );\n\t            this.gxAxis.selectAll( 'text' )\n\t                .style( this.options.style )\n\t                .style( { 'font-size': xFontSize + 'px' } )\n\t                .attr( 'transform', function( d ) {\n\t                    var y = -this.getBBox().height - 15;\n\t                    var x = -xFontSize + boxWidth / 2;\n\t                    return 'rotate(-90)translate(' + y + ',' + x + ')';\n\t                });\n\t                \n\t            // set background color\n\t            var gxAxisLabelBackground = svg.append( 'rect' )\n\t                .attr( 'width', width )\n\t                .attr( 'height', font_size + 3 )\n\t                .attr( 'y', height + margin.bottom - font_size - 3 )\n\t                .attr( 'fill', this.options.debug_color )\n\t                .attr( 'opacity', 0.7 );\n\t                \n\t            // axis label\n\t            this.gxAxisLabel = svg.append( 'text' )\n\t                .attr( 'class', 'x label' )\n\t                .style( this.options.style )\n\t                .text( this.chart.settings.get( 'x_axis_label' ) )\n\t                .attr( 'transform', function( d ) {\n\t                    var y = height + margin.bottom - font_size / 3;\n\t                    var x = ( width - this.getBBox().width ) / 2;\n\t                    return 'translate(' + x + ',' + y + ')';\n\t                });\n\t                \n\t            // chart title\n\t            this.gxTickLabel = svg.append( 'text' )\n\t                .attr( 'class', 'title' )\n\t                .style( this.options.style )\n\t                .style({'font-size' : 1.1 * font_size } )\n\t                .text( this.group.key )\n\t                .attr( 'transform', function( d ) {\n\t                    var y = -margin.top / 2;\n\t                    var x = ( width - this.getBBox().width ) / 2;\n\t                    return 'translate(' + x + ',' + y + ')';\n\t                });\n\t        },\n\t        \n\t        /** Build y axis */\n\t        _buildY : function() {\n\t            var self = this;\n\t            var height      = this.height;\n\t            var width       = this.width;\n\t            var margin      = this.options.margin;\n\t            var svg         = this.svg;\n\t            var font_size   = this.options.style[ 'font-size' ];\n\t            var boxHeight   = this.boxHeight;\n\t            \n\t            // draw y axis\n\t            this.gyAxis = svg.append( 'g' )\n\t                .attr( 'class', 'y axis' )\n\t                .style( 'stroke-width', 1 )\n\t                .call( this.yAxis );\n\t\n\t            // fix text\n\t            var yFontSize = Math.min( boxHeight, font_size );\n\t            this.gyAxis.selectAll( 'text' )\n\t                .style( this.options.style )\n\t                .style( { 'font-size': yFontSize + 'px' } )\n\t                .attr( 'y', -boxHeight / 2 );\n\t            \n\t            // set background color\n\t            var gyAxisLabelBackground = svg.append( 'rect' )\n\t                .attr( 'width', font_size )\n\t                .attr( 'height', height )\n\t                .attr( 'x', -margin.left )\n\t                .attr( 'fill', this.options.debug_color )\n\t                .attr( 'opacity', 0.7 );\n\t                \n\t            // axis label\n\t            this.gyAxisLabel = svg.append( 'text' )\n\t                .attr( 'class', 'y label' )\n\t                .style( this.options.style )\n\t                .text( this.chart.settings.get( 'y_axis_label' ) )\n\t                .attr( 'transform', function( d ) {\n\t                    var x = -margin.left + font_size - 2;\n\t                    var y = -( height + this.getBBox().width ) / 2;\n\t                    return 'rotate(-90)translate(' + y + ',' + x + ')';\n\t                });\n\t        },\n\t\n\t        /** Build legend */\n\t        _buildLegend : function() {\n\t            var self = this;\n\t            var height      = this.height;\n\t            var width       = this.width;\n\t            var margin      = this.options.margin;\n\t            var font_size   = this.options.legend.style[ 'font-size' ];\n\t            var limit       = this.options.legend.limit;\n\t            var legendSize  = this.options.legend.size;\n\t            var legendWidth = this.options.legend.width;\n\t            var legendElements = this.zScale.range().length;\n\t            var legendElementHeight = Math.max( legendSize * height / legendElements, font_size );\n\t            var legendHeight = legendElements * legendElementHeight / 2;\n\t            var data = d3.range( this.zMin, this.zMax, 2 * ( this.zMax - this.zMin ) / legendElements ).reverse();\n\t            if ( data.length < 2 ) {\n\t                return;\n\t            }\n\t            var legend = this.svg.selectAll( '.legend' )\n\t                .data( data )\n\t                .enter().append( 'g' )\n\t                    .attr( 'class', 'legend' )\n\t                    .attr( 'transform', function( d, i ) {\n\t                        var x = width + 10;\n\t                        var y = ( ( height - legendHeight ) / 2 ) + ( i * legendElementHeight );\n\t                        return 'translate(' + x + ',' + y + ')';\n\t                    });\n\t            legend.append( 'rect' )\n\t                  .attr( 'width', legendWidth )\n\t                  .attr( 'height', legendElementHeight )\n\t                  .style( 'fill', function( z ) { return self.zScale( z ) } );\n\t            legend.append('text')\n\t                  .attr( 'x', legendWidth + 4 )\n\t                  .attr( 'y', function() { return ( legendElementHeight + this.getBBox().height ) / 2 } )\n\t                  .style( this.options.legend.style )\n\t                  .text( function( d ) { return String( d ).length > limit ? String( d ).substr( 0, limit - 2 ) + '..' : String( d ) } );\n\t            this.svg.append( 'text' )\n\t                .style( this.options.legend.style )\n\t                .style( { 'font-size' : 9, 'font-weight': 'bold' } )\n\t                .text( 'Legend' )\n\t                .attr( 'transform', function( d, i ) {\n\t                    var x = width + ( margin.right - this.getBBox().width ) / 2;\n\t                    var y = ( ( height - legendHeight ) / 2 ) - 10;\n\t                    return 'translate(' + x + ',' + y + ')';\n\t                });\n\t        },\n\t\n\t        /** Create axes formatting */\n\t        _makeTickFormat: function( id ) {\n\t            var settings = this.chart.settings;\n\t            var self = this;\n\t            Utilities.makeTickFormat({\n\t                categories  : self.categories.array[ id ],\n\t                type        : settings.get( id + '_axis_type|type' ),\n\t                precision   : settings.get( id + '_axis_type|precision' ),\n\t                formatter   : function( formatter ) {\n\t                    if ( formatter ) {\n\t                        self[ id + 'Axis' ].tickFormat( function( value ) {\n\t                           return formatter( value );\n\t                        });\n\t                    }\n\t                }\n\t            });\n\t        },\n\t\n\t        /** Handle error */\n\t        _handleError: function( err ) {\n\t            this.chart.state( 'failed', err );\n\t        },\n\t\n\t        /** Main template */\n\t        _templateTooltip: function(d) {\n\t            var x = this.categories.array.x[ d.x ];\n\t            var y = this.categories.array.y[ d.y ];\n\t            var z = d.z;\n\t            return  '<table>' +\n\t                        '<tr>' +\n\t                            '<td class=\"charts-tooltip-first\">Row:</td>' +\n\t                            '<td>' + y + '</td>' +\n\t                        '</tr>' +\n\t                        '<tr>' +\n\t                            '<td class=\"charts-tooltip-first\">Column:</td>' +\n\t                            '<td>' + x + '</td>' +\n\t                        '</tr>' +\n\t                        '<tr>' +\n\t                            '<td class=\"charts-tooltip-first\">Value:</td>' +\n\t                            '<td>' + z + '</td>' +\n\t                        '</tr>' +\n\t                    '</table>';\n\t        }\n\t    });\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ }\n\n/******/ })});;\n\n\n/** WEBPACK FOOTER **\n ** others_heatmap.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e3622d0033a89edad914\n **/","define( [ 'visualizations/utilities/tabular-utilities', 'visualizations/others/heatmap/heatmap-plugin' ], function( Utilities, HeatMap ) {\n    return Backbone.View.extend({\n        initialize: function( options ) {\n            options.render = function( canvas_id, groups ) {\n                new HeatMap({\n                    chart       : options.chart,\n                    canvas_id   : canvas_id,\n                    groups      : groups\n                });\n                return true;\n            };\n            Utilities.panelHelper( options );\n        }\n    });\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./static/repository/visualizations/others/heatmap/wrapper.js\n ** module id = 0\n ** module chunks = 22\n **/","/** Useful helper functions */\ndefine( [], function() {\n\n    /** Clone */\n    function clone( obj ) {\n        return JSON.parse( JSON.stringify( obj ) || null );\n    };\n\n    /**\n     * Check if a string is a json string\n     * @param{String}   text - Content to be validated\n     */\n    function isJSON(text) {\n        return /^[\\],:{}\\s]*$/.test(text.replace(/\\\\[\"\\\\\\/bfnrtu]/g, '@').\n            replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g, ']').\n            replace(/(?:^|:|,)(?:\\s*\\[)+/g, ''));\n    };\n\n    /**\n     * Request handler for GET\n     * @param{String}   url     - Url request is made to\n     * @param{Function} success - Callback on success\n     * @param{Function} error   - Callback on error\n     * @param{Boolean}  cache   - Use cached data if available\n     */\n    function get (options) {\n        top.__utils__get__ = top.__utils__get__ || {};\n        var cache_key = JSON.stringify( options );\n        if (options.cache && top.__utils__get__[cache_key]) {\n            options.success && options.success(top.__utils__get__[cache_key]);\n            window.console.debug('utils.js::get() - Fetching from cache [' + options.url + '].');\n        } else {\n            request({\n                url     : options.url,\n                data    : options.data,\n                success : function(response) {\n                    top.__utils__get__[cache_key] = response;\n                    options.success && options.success(response);\n                },\n                error : function(response) {\n                    options.error && options.error(response);\n                }\n            });\n        }\n    };\n\n    /**\n     * Request handler\n     * @param{String}   method  - Request method ['GET', 'POST', 'DELETE', 'PUT']\n     * @param{String}   url     - Url request is made to\n     * @param{Object}   data    - Data send to url\n     * @param{Function} success - Callback on success\n     * @param{Function} error   - Callback on error\n     */\n    function request (options) {\n        var ajaxConfig = {\n            contentType : 'application/json',\n            type        : options.type || 'GET',\n            data        : options.data || {},\n            url         : options.url\n        }\n        if ( ajaxConfig.type == 'GET' || ajaxConfig.type == 'DELETE' ) {\n            if ( !$.isEmptyObject(ajaxConfig.data) ) {\n                ajaxConfig.url += ajaxConfig.url.indexOf('?') == -1 ? '?' : '&';\n                ajaxConfig.url += $.param(ajaxConfig.data, true);\n            }\n            ajaxConfig.data = null;\n        } else {\n            ajaxConfig.dataType = 'json';\n            ajaxConfig.url      = ajaxConfig.url;\n            ajaxConfig.data     = JSON.stringify( ajaxConfig.data );\n        }\n        $.ajax( ajaxConfig ).done( function( response ) {\n            if ( typeof response === 'string' && isJSON( response ) ) {\n                try {\n                    response = response.replace( 'Infinity,', '\"Infinity\",' );\n                    response = jQuery.parseJSON( response );\n                } catch ( e ) {\n                    console.debug( e );\n                }\n            }\n            options.success && options.success( response );\n        }).fail( function( response ) {\n            var response_text = null;\n            try {\n                response_text = jQuery.parseJSON( response.responseText );\n            } catch (e) {\n                response_text = response.responseText;\n            }\n            options.error && options.error( response_text, response );\n        }).always( function() {\n            options.complete && options.complete();\n        });\n    };\n\n    /**\n     * Safely merge to dictionaries\n     * @param{Object}   options         - Target dictionary\n     * @param{Object}   optionsDefault  - Source dictionary\n     */\n    function merge (options, optionsDefault) {\n        if (options) {\n            return _.defaults(options, optionsDefault);\n        } else {\n            return optionsDefault;\n        }\n    };\n\n    /** Create a unique id */\n    function uid(){\n        top.__utils__uid__ = top.__utils__uid__ || 0;\n        return 'uid-' + top.__utils__uid__++;\n    };\n\n    return {\n        get     : get,\n        merge   : merge,\n        uid     : uid,\n        request : request,\n        clone   : clone,\n        isJSON  : isJSON\n    };\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./static/repository/utilities/utils.js\n ** module id = 1\n ** module chunks = 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25\n **/","define( [ 'utilities/utils', 'visualizations/utilities/tabular-datasets' ], function( Utils, Datasets ) {\n    /** build job dictionary */\n    function buildJobDictionary( chart, module ) {\n        var settings_string = '';\n        var columns_string = '';\n        var group_index = 0;\n        for ( key in chart.settings.attributes ) {\n            var settings_value = chart.settings.get( key );\n            _.each( [ [ ' ', '&#32;' ], [ ',', '&#44;' ], [ ':', '&#58;' ] ], function( pair ) {\n                settings_value = settings_value.replace( new RegExp( pair[ 0 ], 'g' ), pair[ 1 ] );\n            });\n            settings_string += key + ':' + settings_value + ', ';\n        };\n        settings_string = settings_string.substring( 0, settings_string.length - 2 )\n        chart.groups.each( function( group ) {\n            group_index++;\n            _.each( group.get( '__data_columns' ), function( data_columns, name ) {\n                columns_string += name + '_' + group_index + ':' + ( parseInt( group.get( name ) ) + 1 ) + ', ';\n            });\n        });\n        columns_string = columns_string.substring( 0, columns_string.length - 2 );\n        return {\n                    'tool_id'       : 'charts',\n                    'inputs'        : {\n                        'input'     : {\n                            'id'    : chart.get( 'dataset_id' ),\n                            'src'   : 'hda'\n                        },\n                        'module'    : module,\n                        'columns'   : columns_string,\n                        'settings'  : settings_string\n                    }\n                }\n    };\n\n    /** Assists in assigning the viewport panels */\n    function panelHelper( options ) {\n        var self = this;\n        var process             = options.process;\n        var chart               = options.chart;\n        var render              = options.render;\n        var targets             = options.targets;\n        var dataset_id          = options.dataset_id || options.chart.get( 'dataset_id' );\n        var dataset_groups      = options.dataset_groups || options.chart.groups;\n        Datasets.request({\n            chart           : chart,\n            dataset_id      : dataset_id,\n            dataset_groups  : dataset_groups,\n            success         : function( result ) {\n                try {\n                    if ( targets.length == result.length ) {\n                        var valid = true;\n                        for ( var group_index in result ) {\n                            var group = result[ group_index ];\n                            if ( !render( targets[ group_index ], [ group ] ) ) {\n                                valid = false;\n                                break;\n                            }\n                        }\n                        if ( valid ) {\n                            chart.state( 'ok', 'Multi-panel chart drawn.' );\n                        }\n                    } else if ( targets.length == 1 ) {\n                        if ( render( targets[ 0 ], result ) ) {\n                            chart.state( 'ok', 'Chart drawn.' );\n                        }\n                    } else {\n                        chart.state( 'failed', 'Invalid panel count.' );\n                    }\n                    process.resolve();\n                } catch ( err ) {\n                    console.debug( 'FAILED: tabular-utilities::panelHelper() - ' + err );\n                    chart.state( 'failed', err );\n                    process.reject();\n                }\n            }\n        });\n    };\n\n    /** Get domain boundaries value */\n    function getDomains( groups, keys ) {\n        function _apply( operator, key ) {\n            var value = undefined;\n            for ( var group_index in groups ) {\n                var value_sub = d3[ operator ]( groups[ group_index ].values, function( d ) { return d[ key ] } );\n                value = value === undefined ? value_sub : Math[ operator ]( value, value_sub );\n            }\n            return value;\n        };\n        var result = {};\n        for( var index in keys ) {\n            var key = keys[ index ];\n            result[ key ] = {\n                min : _apply( 'min', key ),\n                max : _apply( 'max', key ),\n            };\n           \n        }\n        return result;\n    };\n\n    /** Default series maker */\n    function makeSeries( groups, keys ) {\n        var plot_data = [];\n        for ( var group_index in groups ) {\n            var group = groups[ group_index ];\n            var data = [];\n            for ( var value_index in group.values ) {\n                var point = [];\n                if ( keys ) {\n                    for ( var key_index in keys ) {\n                        var column_index = keys[ key_index ];\n                        point.push( group.values[ value_index ][ column_index ] );\n                    }\n                } else {\n                    for ( var column_index in group.values[ value_index ] ) {\n                        point.push( group.values[ value_index ][ column_index ] );\n                    }\n                }\n                data.push( point );\n            }\n            plot_data.push( data );\n        }\n        return plot_data;\n    };\n\n    /** Default category maker */\n    function makeCategories( groups, column_keys ) {\n        var array = {};\n        var data_columns = groups[ 0 ].__data_columns;\n        _.each( column_keys, function( key ) {\n            if ( data_columns[ key ].is_label ) {\n                array[ key ] = [];\n            }\n        });\n        if ( groups && groups[ 0 ] ) {\n            _.each( groups[ 0 ].values, function( value_dict ) {\n                for ( var key in array ) {\n                    array[ key ].push( String( value_dict[ key ] ) );\n                }\n            });\n        }\n        mapCategories( array, groups );\n        return { array : array }\n    };\n\n    /** Apply default mapping index all values contained in label columns (for all groups) */\n    function mapCategories( array, groups ) {\n        _.each( groups, function( group ) {\n            _.each( group.values, function( value_dict, i ) {\n                for ( var key in array ) {\n                    value_dict[ key ] = parseInt( i )\n                }\n            });\n        });\n    };\n\n    /** Category make for unique category labels */\n    function makeUniqueCategories( groups, with_index ) {\n        var categories  = {};\n        var array       = {};\n        var counter     = {};\n        var data_columns = groups[ 0 ].__data_columns;\n        _.each( data_columns, function( column_def, key ) {\n            if ( column_def.is_label ) {\n                categories[ key ] = {};\n                array[ key ]      = [];\n                counter[ key ]    = 0;\n            }\n        });\n        // index all values contained in label columns (for all groups)\n        for ( var i in groups ) {\n            var group = groups[ i ];\n            for ( var j in group.values ) {\n                var value_dict = group.values[ j ];\n                for ( var key in categories ) {\n                    var value = String( value_dict[ key ] );\n                    if ( categories[ key ][ value ] === undefined ) {\n                        categories[ key ][ value ] = counter[ key ];\n                        array[ key ].push( with_index ? [counter[key], value] : value );\n                        counter[ key ]++;\n                    }\n                }\n            }\n        }\n        // convert group values into category indeces\n        for ( var i in groups ) {\n            var group = groups[ i ];\n            for ( var j in group.values ) {\n                var value_dict = group.values[ j ];\n                for ( var key in categories ) {\n                    var value = String( value_dict[ key ] );\n                    value_dict[ key ] = categories[ key ][ value ];\n                }\n            }\n        }\n        return {\n            categories  : categories,\n            array       : array,\n            counter     : counter\n        }\n    };\n\n    /** Make axis */\n    function makeTickFormat ( options ) {\n        var type        = options.type;\n        var precision   = options.precision;\n        var categories  = options.categories;\n        var formatter   = options.formatter;\n        if ( type == 'hide' ) {\n            formatter( function() { return '' } );\n        } else if ( type == 'auto' ) {\n            if ( categories ) {\n                formatter( function( value ) { return categories[ value ] || '' } );\n            }\n        } else {\n            var d3format = function( d ) {\n                switch ( type ) {\n                    case 's':\n                        var prefix = d3.formatPrefix( d );\n                        return prefix.scale( d ).toFixed() + prefix.symbol;\n                    default :\n                        return d3.format( '.' + precision + type )( d );\n                }\n            };\n            if ( categories ) {\n                formatter( function( value ) {\n                    var label = categories[ value ];\n                    if ( label ) {\n                        if ( isNaN( label ) ) {\n                            return label;\n                        } else {\n                            try {\n                                return d3format( label );\n                            } catch ( err ) {\n                                return label;\n                            }\n                        }\n                    } else {\n                        return '';\n                    }\n                });\n            } else {\n                formatter( function( value ) { return d3format( value ) } );\n            }\n        }\n    };\n\n    /** Add zoom handler */\n    function addZoom( options ) {\n        var scaleExtent = 100;\n        var yAxis       = options.yAxis;\n        var xAxis       = options.xAxis;\n        var xDomain     = options.xDomain || xAxis.scale().domain;\n        var yDomain     = options.yDomain || yAxis.scale().domain;\n        var redraw      = options.redraw;\n        var svg         = options.svg;\n        var xScale      = xAxis.scale();\n        var yScale      = yAxis.scale();\n        var x_boundary  = xScale.domain().slice();\n        var y_boundary  = yScale.domain().slice();\n        var d3zoom      = d3.behavior.zoom();\n        xScale.nice();\n        yScale.nice();\n        function fixDomain( domain, boundary ) {\n            domain[ 0 ] = Math.min( Math.max( domain[ 0 ], boundary[ 0 ] ), boundary[ 1 ] - boundary[ 1 ]/scaleExtent );\n            domain[ 1 ] = Math.max( boundary[ 0 ] + boundary[ 1 ] / scaleExtent, Math.min( domain[ 1 ], boundary[ 1 ] ) );\n            return domain;\n        };\n        function zoomed() {\n            yDomain( fixDomain( yScale.domain(), y_boundary ) );\n            xDomain( fixDomain( xScale.domain(), x_boundary ) );\n            redraw();\n        };\n        function unzoomed() {\n            xDomain( x_boundary );\n            yDomain( y_boundary );\n            redraw();\n            d3zoom.scale( 1 );\n            d3zoom.translate( [ 0 , 0 ] );\n        };\n        d3zoom.x( xScale )\n              .y( yScale )\n              .scaleExtent( [ 1, scaleExtent ] )\n              .on( 'zoom', zoomed );\n        svg.call( d3zoom ).on( 'dblclick.zoom', unzoomed );\n        return d3zoom;\n    };\n\n    return {\n        buildJobDictionary      : buildJobDictionary,\n        panelHelper             : panelHelper,\n        makeCategories          : makeCategories,\n        makeUniqueCategories    : makeUniqueCategories,\n        makeSeries              : makeSeries,\n        getDomains              : getDomains,\n        mapCategories           : mapCategories,\n        makeTickFormat          : makeTickFormat,\n        addZoom                 : addZoom\n    }\n\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./static/repository/visualizations/utilities/tabular-utilities.js\n ** module id = 4\n ** module chunks = 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 21 22 24\n **/","/** This class handles, formats and caches datasets. */\ndefine( [ 'utilities/utils' ], function( Utils ) {\n    /** Fills request dictionary with data from cache/response */\n    var _cache = {};\n    var request = function( options ) {\n        var groups      = options.dataset_groups;\n        var dataset_id  = options.dataset_id;\n        // identify columns needed to fulfill request\n        var column_list = [];\n        groups.each( function( group ) {\n            _.each( group.get( '__data_columns' ), function( column_def, column_name ) {\n                var column = group.get( column_name );\n                var block_id = _block_id( dataset_id, column );\n                if ( column_list.indexOf( column ) === -1 && !_cache[ block_id ] && column != 'auto' && column != 'zero' && column !== undefined ) {\n                    column_list.push( column );\n                }\n            });\n        });\n        if ( column_list.length == 0 ) {\n            _fillFromCache( options );\n            return;\n        }\n        // Fetch data columns into dataset object\n        Utils.get({\n            url     : Galaxy.root + 'api/datasets/' + dataset_id,\n            data    : {\n                data_type   : 'raw_data',\n                provider    : 'dataset-column',\n                indeces     : column_list.toString()\n            },\n            success : function( response ) {\n                var results = new Array( column_list.length );\n                for ( var i = 0; i < results.length; i++ ) {\n                    results[ i ] = [];\n                }\n                for ( var i in response.data ) {\n                    var row = response.data[ i ];\n                    for ( var j in row ) {\n                        var v = row[ j ];\n                        if ( v !== undefined && v != 2147483647 ) {\n                            results[ j ].push( v );\n                        }\n                    }\n                }\n                console.debug( 'tabular-datasets::_fetch() - Fetching complete.' );\n                for ( var i in results ) {\n                    var column = column_list[ i ];\n                    var block_id = _block_id( dataset_id, column );\n                    _cache[ block_id ] = results[ i ];\n                }\n                _fillFromCache( options );\n            }\n        });\n    };\n\n    /** Fill data from cache */\n    var _fillFromCache = function( options ) {\n        var groups      = options.dataset_groups;\n        var dataset_id  = options.dataset_id;\n        console.debug( 'tabular-datasets::_fillFromCache() - Filling request from cache.' );\n        var limit = 0;\n        groups.each( function( group ) {\n            _.each( group.get( '__data_columns' ), function( column_def, column_name ) {\n                var column = group.get( column_name );\n                var block_id = _block_id( dataset_id, column );\n                var column_data = _cache[ block_id ];\n                if ( column_data ) {\n                    limit = Math.max( limit, column_data.length );\n                }\n            });\n        });\n        if ( limit == 0 ) {\n            console.debug( 'tabular-datasets::_fillFromCache() - No data available.' );\n        }\n        var results = [];\n        groups.each( function( group, group_index ) {\n            var dict = Utils.merge( { key: ( group_index ) + ':' + group.get( 'key' ), values: [] }, group.attributes );\n            for ( var j = 0; j < limit; j++ ) {\n                dict.values[ j ] = { x : parseInt( j ) };\n            }\n            results.push( dict );\n        });\n        groups.each( function( group, group_index ) {\n            var values = results[ group_index ].values;\n            _.each( group.get( '__data_columns' ), function( column_def, column_name ) {\n                var column = group.get( column_name );\n                switch ( column ) {\n                    case 'auto':\n                        for ( var j = 0; j < limit; j++ ) {\n                            values[ j ][ column_name ] = parseInt( j );\n                        }\n                        break;\n                    case 'zero':\n                        for ( var j = 0; j < limit; j++ ) {\n                            values[ j ][ column_name ] = 0;\n                        }\n                        break;\n                    default:\n                        var block_id = _block_id( dataset_id, column );\n                        var column_data = _cache[ block_id ];\n                        for ( var j = 0; j < limit; j++ ) {\n                            var value = values[ j ];\n                            var v = column_data[ j ];\n                            if ( isNaN( v ) && !column_def.is_label ) {\n                                v = 0;\n                            }\n                            value[ column_name ] = v;\n                        }\n                }\n            });\n        });\n        options.success( results );\n    };\n\n    /** Get block id */\n    var _block_id = function ( dataset_id, column ) {\n        return dataset_id + '_' + '_' + column;\n    };\n\n    return { request: request };\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./static/repository/visualizations/utilities/tabular-datasets.js\n ** module id = 5\n ** module chunks = 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 24\n **/","define([], function() {\n    return {\n        colorSets: {\n            seis:       ['#AA0000', '#D00000', '#F70000', '#FF1D00', '#FF4400', '#FF6A00', '#FF9000', '#FFB700', '#FFDD00', '#FFFF00', '#FFFF00', '#FFFF00', '#BDFF0C', '#73FF1A', '#3FFA36', '#16F45A', '#00D08B', '#0087CD', '#0048FA', '#0024E3'].reverse(),\n            \n            sealand:    ['#8C66FF', '#6A66FF', '#6684FF', '#66A7FF', '#66CAFF', '#66ECFF', '#66FFF0', '#66FFCE', '#66FFAB', '#66FF88', '#66FF66', '#88FF66', '#ABFF66', '#CEFF66', '#FFEEA6', '#FFD3A6', '#FFB8A6', '#FFAAB0', '#FFB5CB', '#FFC0E1'].reverse(),\n            \n            redgreen:   ['#005824', '#1A693B', '#347B53', '#4F8D6B', '#699F83', '#83B09B', '#9EC2B3', '#B8D4CB', '#D2E6E3', '#EDF8FB', '#FFFFFF', '#F1EEF6', '#E6D3E1','#DBB9CD', '#D19EB9', '#C684A4', '#BB6990', '#B14F7C', '#A63467', '#9B1A53', '#91003F'],\n            \n            ocean:      ['#000000', '#000209', '#000413', '#00061E', '#000728', '#000932', '#002650', '#00426E', '#005E8C', '#007AAA', '#0096C8', '#22A9C2', '#45BCBB', '#67CFB5', '#8AE2AE', '#ACF6A8', '#BCF8B9', '#CBF9CA', '#DBFBDC', '#EBFDED'].reverse(),\n            \n            cool:       ['#00FFFF', '#0DF2FF', '#19E6FF', '#26D9FF', '#33CCFF', '#3FBFFF', '#4CB3FF', '#59A6FF', '#6699FF', '#738CFF', '#7F7FFF', '#8C73FF', '#9966FF', '#A659FF', '#B24DFF', '#BF3FFF', '#CC33FF', '#D926FF', '#E619FF', '#F20DFF'],\n            \n            copper:     ['#000000', '#100906', '#1F130D', '#301E13', '#40281A', '#50321F', '#603C26', '#70462D', '#805033', '#905A3A', '#A06440', '#B06E46', '#C0784D', '#D08253', '#E08C5A', '#F09660', '#FFA066', '#FFAA6D', '#FFB473', '#FFBE7A'].reverse(),\n            \n            gray:       ['#000000', '#0D0D0D', '#191919', '#262626', '#333333', '#3F3F3F', '#4C4C4C', '#595959', '#666666', '#737373', '#7F7F7F', '#8C8C8C', '#999999', '#A6A6A6', '#B2B2B2', '#BFBFBF', '#CCCCCC', '#D9D9D9', '#E6E6E6', '#F2F2F2'].reverse(),\n            \n            hot:        ['#000000', '#220000', '#440000', '#660000', '#880000', '#AA0000', '#CC0000', '#EE0000', '#FF1100', '#FF3300', '#FF5500', '#FF7700', '#FF9900', '#FFBB00', '#FFDD00', '#FFFF00', '#FFFF33', '#FFFF66', '#FFFF99', '#FFFFCC'].reverse(),\n            \n            jet:        ['#00007F', '#0000B2', '#0000E5', '#0019FF', '#004DFF', '#007FFF', '#00B2FF', '#00E5FF', '#FFFFF2', '#FFFFD9', '#FFFFBF', '#FFFFA5', '#FFFF8C', '#FFE500', '#FFB300', '#FF7F00', '#FF4C00', '#FF1900', '#E50000', '#B20000'],\n            \n            no_green:   ['#1F60FF', '#1F60FF', '#1F9FFF', '#1FBFFF', '#00CFFF', '#2AFFFF', '#2AFFFF', '#55FFFF', '#7FFFFF', '#AAFFFF', '#FFFF54', '#FFFF54', '#FFF000', '#FFBF00', '#FFA800', '#FF8A00', '#FF8A00', '#FF7000', '#FF4D00', '#FF0000'],\n\n            polar:      ['#0000FF', '#1919FF', '#3333FF', '#4C4CFF', '#6666FF', '#7F7FFF', '#9999FF', '#B2B2FF', '#CCCCFF', '#E6E6FF', '#FFFFFF', '#FFE5E5', '#FFCCCC', '#FFB2B2', '#FF9999', '#FF7F7F', '#FF6666', '#FF4C4C', '#FF3333', '#FF1A1A'],\n\n            red2green:  ['#FF0000', '#FF1919', '#FF3333', '#FF4C4C', '#FF6666', '#FF7F7F', '#FF9999', '#FFB2B2', '#FFCCCC', '#FFE6E6', '#FFFFFF', '#E5FFE5', '#CCFFCC', '#B2FFB2', '#99FF99', '#7FFF7F',  '#66FF66', '#4CFF4C', '#33FF33', '#1AFF1A'].reverse(),\n\n            relief:     ['#000000', '#000413', '#000728', '#002650', '#005E8C', '#0096C8', '#45BCBB', '#8AE2AE', '#BCF8B9', '#DBFBDC', '#467832', '#887438', '#B19D48', '#DBC758', '#FAE769', '#FAEB7E', '#FCED93', '#FCF1A7', '#FCF6C1', '#FDFAE0'].reverse(),\n            \n            split:      ['#7F7FFF', '#6666E6', '#4D4DCC', '#3333B3', '#1A1A99', '#00007F', '#000066', '#00004D', '#000033', '#00001A', '#000000', '#1A0000', '#330000', '#4D0000', '#660000', '#7F0000', '#991A1A', '#B33333', '#CC4D4D', '#E66666'],\n            \n            wysiwyg:    ['#3F003F', '#3F003F', '#3F00BF', '#003FFF', '#00A0FF', '#3FBFFF', '#3FBFFF', '#40E0FF', '#3FFFBF', '#3FFF3F', '#7FFF3F', '#BFFF3F', '#BFFF3F', '#FFE040', '#FFE040', '#FF6040', '#FF1F40', '#FF60C0', '#FFA0FF', '#FFA0FF'].reverse()\n        }\n    }\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./static/repository/visualizations/others/heatmap/heatmap-parameters.js\n ** module id = 38\n ** module chunks = 21 22\n **/","define( [ 'visualizations/utilities/tabular-utilities', 'utilities/utils', 'visualizations/others/heatmap/heatmap-parameters' ], function( Utilities, Utils, HeatmapParameters ) {\n    return Backbone.View.extend({\n        optionsDefault: {\n            margin: {\n                top                 : 40,\n                right               : 70,\n                bottom              : 70,\n                left                : 70\n            },\n            style: {\n                'font-weight'       : 'normal',\n                'font-family'       : 'Verdana',\n                'font-size'         : 12\n            },\n            legend: {\n                width               : 15,\n                size                : 0.9,\n                style : {\n                    'font-weight'   : 'normal',\n                    'font-family'   : 'Verdana',\n                    'font-size'     : 11\n                },\n                limit               : 7\n            },\n            background_color        : '#FFFFFF',\n            debug_color             : '#FFFFFF'\n        },\n        \n        initialize: function( options ) {\n            var self = this;\n            this.chart          = options.chart;\n            this.canvas_id      = options.canvas_id;\n            this.group          = options.groups[ 0 ];\n            this.data           = options.groups[ 0 ].values;\n            this.options        = Utils.merge ( this.optionsDefault, options );\n            \n            // get color set\n            this.color_set = HeatmapParameters.colorSets[ this.chart.settings.get( 'color_set' ) ];\n            \n            // categories\n            this.categories = Utilities.makeUniqueCategories( [ this.group ] );\n            \n            // domains/scales\n            this.xScale = d3.scale.linear().domain( [ 0, this.categories.array.x.length ] );\n            this.yScale = d3.scale.linear().domain( [ 0, this.categories.array.y.length ] );\n            \n            // color scale\n            this.zMin = d3.min( this.data, function( d ) { return d.z; } );\n            this.zMax = d3.max( this.data, function( d ) { return d.z; } );\n            this.zScale = d3.scale.quantize().domain( [ this.zMin, this.zMax ] ).range( this.color_set );\n\n            // create axis\n            this.xAxis = d3.svg.axis().scale( this.xScale ).orient( 'bottom' );\n            this.yAxis = d3.svg.axis().scale( this.yScale ).orient( 'left' );\n            \n            // make categories\n            this._makeTickFormat( 'x' );\n            this._makeTickFormat( 'y' );\n            \n            // add tooltip\n            this.tooltip = d3.select( '.charts-viewport-container' ).append( 'div' )\n                .attr( 'class', 'charts-tooltip' )\n                .style( this.options.style )\n                .style( 'opacity', 0 );\n            \n            // refresh on window resize\n            $( window ).on( 'resize', function () { self.redraw() } );\n            this.redraw();\n            Utilities.addZoom({\n                xAxis       : this.xAxis,\n                yAxis       : this.yAxis,\n                redraw      : function() { self.redraw() },\n                svg         : d3.select( '#' + this.canvas_id )\n            });\n        },\n            \n        /** Redraw */\n        redraw: function() {\n            // get parameters\n            var chart       = this.chart;\n            var data        = this.data;\n            var self        = this;\n            this.data       = data;\n            \n            // get/reset container\n            var container = $( '#' + this.canvas_id );\n            container.empty();\n            \n            // get domain\n            var xDomain = this.xScale.domain();\n            var yDomain = this.yScale.domain();\n            \n            // set ticks\n            var xTickStart = Math.ceil( xDomain[ 0 ] );\n            var xTickEnd   = Math.floor( xDomain[ 1 ] );\n            var yTickStart = Math.ceil( yDomain[ 0 ] );\n            var yTickEnd   = Math.floor( yDomain[ 1 ] );\n            this.xAxis.tickValues( d3.range( xTickStart, xTickEnd, 1 ) );\n            this.yAxis.tickValues( d3.range( yTickStart, yTickEnd, 1 ) );\n            \n            // get margins\n            var margin = this.options.margin;\n            \n            // configure dimensions\n            this.height = parseInt( container.height() ) - margin.top - margin.bottom;\n            this.width  = parseInt( container.width() ) - margin.left - margin.right;\n            \n            // set range\n            this.xScale.range( [ 0, this.width ] );\n            this.yScale.range( [ this.height, 0 ] );\n\n            // get box properties\n            this.rowCount = yDomain[ 1 ] - yDomain[ 0 ];\n            this.colCount = xDomain[ 1 ] - xDomain[ 0 ];\n            this.boxWidth = Math.max( 1, Math.floor( this.width / this.colCount ) );\n            this.boxHeight = Math.max( 1, Math.floor( this.height / this.rowCount ) );\n            \n            // create group\n            var svg = this.svg = d3.select( '#' + this.canvas_id )\n                                   .append( 'g' )\n                                   .attr( 'class', 'heatmap' )\n                                   .attr( 'transform', 'translate(' + margin.left + ',' + margin.top + ')' );\n                        \n            // build elements\n            this._buildBoxes();\n            this._buildX();\n            this._buildY();\n            \n            // show legend only if requested\n            if ( this.chart.settings.get('show_legend') == 'true' ) {\n                this._buildLegend();\n            }\n        },\n        \n        /** Build boxes */\n        _buildBoxes: function() {\n            var self = this;\n            var height      = this.height;\n            var width       = this.width;\n            var margin      = this.options.margin;\n            var svg         = this.svg;\n            var boxWidth    = this.boxWidth;\n            var boxHeight   = this.boxHeight;\n            function _locator( d ) { return 'translate(' + self.xScale( d.x ) + ',' + self.yScale( d.y + 1 ) + ')' };\n            function _color ( d ) { return self.zScale( d.z ) };\n\n            // set background color\n            var gBackground = svg.append( 'rect' )\n                .attr( 'width', width )\n                .attr( 'height', height )\n                .attr( 'fill', this.options.background_color );\n\n            // clip path\n            var clip = svg.append( 'clipPath' )\n                .attr( 'id', 'clip' )\n                .append( 'rect' )\n                .attr( 'x', 0 )\n                .attr( 'y', 0 )\n                .attr( 'width', width )\n                .attr( 'height', height );\n\n            // create chart area\n            var chartBody = svg.append( 'g' ).attr( 'clip-path', 'url(#clip)' );\n                \n            // add boxes to chart area\n            var boxes = chartBody.selectAll( 'box-group' ).data( this.data, function( d, i ) {\n                return d.x + '\\0' + d.y;\n            });\n            var gEnter = boxes.enter().append( 'g' )\n                .attr( 'class', 'box-group' );\n            gEnter.append( 'rect' )\n                .attr( 'class','heat-box' );\n            boxes.selectAll( 'rect' )\n                .attr( 'rx', 1 )\n                .attr( 'ry', 1 )\n                .attr( 'fill', _color )\n                .attr( 'width', boxWidth )\n                .attr( 'height', boxHeight )\n                .attr( 'transform', _locator );\n            \n            // add tooltip events\n            boxes.selectAll( 'rect' )\n            .on( 'dblclick', function( d ) {\n                var url = self.chart.settings.get( 'url_template' ).trim();\n                if ( url ) {\n                    d3.event.stopPropagation();\n                    var xLabel = self.categories.array.x[ d.x ];\n                    var yLabel = self.categories.array.y[ d.y ];\n                    window.open( url.replace( '__LABEL__', xLabel ) );\n                    window.open( url.replace( '__LABEL__', yLabel ) );\n                }\n            })\n            .on('mouseover', function( d ) {\n                self.tooltip.style( 'opacity', 0.9 );\n                self.tooltip .html( self._templateTooltip( d ) )\n                    .style( 'left', ( d3.event.pageX ) + 'px' )\n                    .style( 'top', ( d3.event.pageY - 20 ) + 'px' );\n                })\n            .on('mouseout', function( d ) {\n                self.tooltip.style( 'opacity', 0 );\n            });\n\n            // initially hide tooltips\n            this.tooltip.style( 'opacity', 0 );\n            \n            // exit\n            boxes.exit().remove();\n        },\n        \n        /** Build x axis */\n        _buildX : function() {\n            var self = this;\n            var height      = this.height;\n            var width       = this.width;\n            var margin      = this.options.margin;\n            var svg         = this.svg;\n            var font_size   = this.options.style[ 'font-size' ];\n            var boxWidth    = this.boxWidth;\n            \n            // draw x axis\n            this.gxAxis = svg.append( 'g' )\n                .attr( 'class', 'x axis' )\n                .style( 'stroke-width', 1 )\n                .attr( 'transform', 'translate(0,' + height + ')' )\n                .call( this.xAxis );\n                \n            // fix text\n            var xFontSize = Math.min( boxWidth, font_size );\n            this.gxAxis.selectAll( 'text' )\n                .style( this.options.style )\n                .style( { 'font-size': xFontSize + 'px' } )\n                .attr( 'transform', function( d ) {\n                    var y = -this.getBBox().height - 15;\n                    var x = -xFontSize + boxWidth / 2;\n                    return 'rotate(-90)translate(' + y + ',' + x + ')';\n                });\n                \n            // set background color\n            var gxAxisLabelBackground = svg.append( 'rect' )\n                .attr( 'width', width )\n                .attr( 'height', font_size + 3 )\n                .attr( 'y', height + margin.bottom - font_size - 3 )\n                .attr( 'fill', this.options.debug_color )\n                .attr( 'opacity', 0.7 );\n                \n            // axis label\n            this.gxAxisLabel = svg.append( 'text' )\n                .attr( 'class', 'x label' )\n                .style( this.options.style )\n                .text( this.chart.settings.get( 'x_axis_label' ) )\n                .attr( 'transform', function( d ) {\n                    var y = height + margin.bottom - font_size / 3;\n                    var x = ( width - this.getBBox().width ) / 2;\n                    return 'translate(' + x + ',' + y + ')';\n                });\n                \n            // chart title\n            this.gxTickLabel = svg.append( 'text' )\n                .attr( 'class', 'title' )\n                .style( this.options.style )\n                .style({'font-size' : 1.1 * font_size } )\n                .text( this.group.key )\n                .attr( 'transform', function( d ) {\n                    var y = -margin.top / 2;\n                    var x = ( width - this.getBBox().width ) / 2;\n                    return 'translate(' + x + ',' + y + ')';\n                });\n        },\n        \n        /** Build y axis */\n        _buildY : function() {\n            var self = this;\n            var height      = this.height;\n            var width       = this.width;\n            var margin      = this.options.margin;\n            var svg         = this.svg;\n            var font_size   = this.options.style[ 'font-size' ];\n            var boxHeight   = this.boxHeight;\n            \n            // draw y axis\n            this.gyAxis = svg.append( 'g' )\n                .attr( 'class', 'y axis' )\n                .style( 'stroke-width', 1 )\n                .call( this.yAxis );\n\n            // fix text\n            var yFontSize = Math.min( boxHeight, font_size );\n            this.gyAxis.selectAll( 'text' )\n                .style( this.options.style )\n                .style( { 'font-size': yFontSize + 'px' } )\n                .attr( 'y', -boxHeight / 2 );\n            \n            // set background color\n            var gyAxisLabelBackground = svg.append( 'rect' )\n                .attr( 'width', font_size )\n                .attr( 'height', height )\n                .attr( 'x', -margin.left )\n                .attr( 'fill', this.options.debug_color )\n                .attr( 'opacity', 0.7 );\n                \n            // axis label\n            this.gyAxisLabel = svg.append( 'text' )\n                .attr( 'class', 'y label' )\n                .style( this.options.style )\n                .text( this.chart.settings.get( 'y_axis_label' ) )\n                .attr( 'transform', function( d ) {\n                    var x = -margin.left + font_size - 2;\n                    var y = -( height + this.getBBox().width ) / 2;\n                    return 'rotate(-90)translate(' + y + ',' + x + ')';\n                });\n        },\n\n        /** Build legend */\n        _buildLegend : function() {\n            var self = this;\n            var height      = this.height;\n            var width       = this.width;\n            var margin      = this.options.margin;\n            var font_size   = this.options.legend.style[ 'font-size' ];\n            var limit       = this.options.legend.limit;\n            var legendSize  = this.options.legend.size;\n            var legendWidth = this.options.legend.width;\n            var legendElements = this.zScale.range().length;\n            var legendElementHeight = Math.max( legendSize * height / legendElements, font_size );\n            var legendHeight = legendElements * legendElementHeight / 2;\n            var data = d3.range( this.zMin, this.zMax, 2 * ( this.zMax - this.zMin ) / legendElements ).reverse();\n            if ( data.length < 2 ) {\n                return;\n            }\n            var legend = this.svg.selectAll( '.legend' )\n                .data( data )\n                .enter().append( 'g' )\n                    .attr( 'class', 'legend' )\n                    .attr( 'transform', function( d, i ) {\n                        var x = width + 10;\n                        var y = ( ( height - legendHeight ) / 2 ) + ( i * legendElementHeight );\n                        return 'translate(' + x + ',' + y + ')';\n                    });\n            legend.append( 'rect' )\n                  .attr( 'width', legendWidth )\n                  .attr( 'height', legendElementHeight )\n                  .style( 'fill', function( z ) { return self.zScale( z ) } );\n            legend.append('text')\n                  .attr( 'x', legendWidth + 4 )\n                  .attr( 'y', function() { return ( legendElementHeight + this.getBBox().height ) / 2 } )\n                  .style( this.options.legend.style )\n                  .text( function( d ) { return String( d ).length > limit ? String( d ).substr( 0, limit - 2 ) + '..' : String( d ) } );\n            this.svg.append( 'text' )\n                .style( this.options.legend.style )\n                .style( { 'font-size' : 9, 'font-weight': 'bold' } )\n                .text( 'Legend' )\n                .attr( 'transform', function( d, i ) {\n                    var x = width + ( margin.right - this.getBBox().width ) / 2;\n                    var y = ( ( height - legendHeight ) / 2 ) - 10;\n                    return 'translate(' + x + ',' + y + ')';\n                });\n        },\n\n        /** Create axes formatting */\n        _makeTickFormat: function( id ) {\n            var settings = this.chart.settings;\n            var self = this;\n            Utilities.makeTickFormat({\n                categories  : self.categories.array[ id ],\n                type        : settings.get( id + '_axis_type|type' ),\n                precision   : settings.get( id + '_axis_type|precision' ),\n                formatter   : function( formatter ) {\n                    if ( formatter ) {\n                        self[ id + 'Axis' ].tickFormat( function( value ) {\n                           return formatter( value );\n                        });\n                    }\n                }\n            });\n        },\n\n        /** Handle error */\n        _handleError: function( err ) {\n            this.chart.state( 'failed', err );\n        },\n\n        /** Main template */\n        _templateTooltip: function(d) {\n            var x = this.categories.array.x[ d.x ];\n            var y = this.categories.array.y[ d.y ];\n            var z = d.z;\n            return  '<table>' +\n                        '<tr>' +\n                            '<td class=\"charts-tooltip-first\">Row:</td>' +\n                            '<td>' + y + '</td>' +\n                        '</tr>' +\n                        '<tr>' +\n                            '<td class=\"charts-tooltip-first\">Column:</td>' +\n                            '<td>' + x + '</td>' +\n                        '</tr>' +\n                        '<tr>' +\n                            '<td class=\"charts-tooltip-first\">Value:</td>' +\n                            '<td>' + z + '</td>' +\n                        '</tr>' +\n                    '</table>';\n        }\n    });\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./static/repository/visualizations/others/heatmap/heatmap-plugin.js\n ** module id = 39\n ** module chunks = 21 22\n **/"],"sourceRoot":""}